{"version":3,"sources":["utils/txNotifier.ts","constants/tokens.js","utils/web3.js","utils/storage.ts","utils/infura.js","constants/values.js","utils/number.ts","utils/pool.ts","components/NavBar/TotalBalance.tsx","components/NavBar/ConnectModal.tsx","components/NavBar/ConnectButton.tsx","components/NavBar/index.tsx","components/common/EpochBlock.tsx","components/HomePage/index.tsx","components/common/AddressBlock.tsx","components/common/BalanceBlock.tsx","components/common/MaxButton.tsx","components/common/PriceSection.tsx","components/common/Comment.tsx","components/common/Wrapper.tsx","components/common/CheckBox.tsx","components/Trade/Header.tsx","components/common/IconHeader.tsx","components/Trade/index.tsx","components/Footer/SwitchTheme.tsx","components/Footer/index.tsx","components/common/TextBlock.tsx","components/Wallet/Header.tsx","constants/contracts.js","components/common/BigNumberInput.tsx","components/Wallet/WithdrawDeposit.tsx","components/Wallet/BondUnbond.tsx","components/Wallet/Invest.tsx","components/Wallet/index.tsx","components/common/NumberBlock.tsx","components/EpochDetail/AdvanceEpoch.tsx","components/EpochDetail/Header.tsx","components/EpochDetail/index.tsx","components/CouponMarket/Header.tsx","components/CouponMarket/PurchaseCoupons.tsx","components/CouponMarket/PurchaseHistory.tsx","components/CouponMarket/ModalWarning.tsx","components/CouponMarket/index.tsx","components/Governance/Header.tsx","utils/gov.ts","components/Governance/ProposeCandidate.tsx","components/Governance/CandidateHistory.tsx","components/Governance/index.tsx","components/Candidate/Vote.tsx","components/Candidate/VoteHeader.tsx","components/Candidate/CommitHeader.tsx","components/Candidate/Commit.tsx","components/Candidate/index.tsx","components/Regulation/Header.tsx","components/Regulation/RegulationHistory.tsx","components/Regulation/index.tsx","components/Pool/WithdrawDeposit.tsx","components/Pool/BondUnbond.tsx","components/Pool/Header.tsx","components/Pool/Claim.tsx","components/Pool/Invest.tsx","components/Pool/index.tsx","components/HomePageNoWeb3/index.tsx","App.tsx","serviceWorker.js","index.tsx"],"names":["notify","v","console","log","UNI","USDC","addr","decimals","symbol","ESD","ESDS","testnetUSDCAbi","require","daoAbi","poolAbi","UINT256_MAX","updateModalMode","theme","a","window","darkMode","connect","ethereum","web3","Web3","eth","getAccounts","addresses","length","enable","toLowerCase","checkConnectedAndGetAddress","approve","tokenAddr","spender","amt","account","oToken","Contract","methods","send","from","on","hash","advance","dao","daoContract","deposit","amount","BigNumber","toFixed","withdraw","bond","unbondUnderlying","purchaseCoupons","redeemCoupons","epoch","recoverCoupons","recordVote","candidate","voteType","vote","commit","depositPool","pool","callback","poolContract","withdrawPool","bondPool","unbondPool","unbond","claimPool","claim","getPreference","key","defaultValue","localStorage","getItem","storePreference","value","setItem","MAX_UINT256","pow","minus","GOVERNANCE_QUORUM","GOVERNANCE_PROPOSAL_THRESHOLD","dollarAbi","undefined","getTokenBalance","token","tokenContract","balanceOf","call","getTokenTotalSupply","totalSupply","getTokenAllowance","allowance","getBalanceBonded","balanceOfBonded","getBalanceOfStaged","balanceOfStaged","getStatusOf","statusOf","getFluidUntil","fluidUntil","getLockedUntil","getEpoch","getEpochTime","epochTime","getTotalDebt","totalDebt","getTotalRedeemable","totalRedeemable","getTotalCoupons","totalCoupons","getTotalBonded","totalBonded","getTotalStaged","totalStaged","getTotalBondedAt","totalBondedAt","getApproveFor","approveFor","getRejectFor","rejectFor","getStartFor","startFor","getPeriodFor","periodFor","getIsInitialized","isInitialized","getRecordedVote","recordedVote","getBalanceOfCoupons","balanceOfCoupons","getBatchBalanceOfCoupons","epochs","calls","map","Promise","all","getCouponsExpiration","couponsExpiration","getBatchCouponsExpiration","getCouponPremium","couponPremium","getImplementation","implementation","getPool","getCouponEpochs","purchaseP","getPastEvents","filter","fromBlock","transferP","to","bought","given","events","e","returnValues","couponAmount","concat","couponEpochs","reduce","event","prev","get","set","coupons","plus","Map","values","sort","b","getAllProposals","payload","prop","blockNumber","getAllRegulations","increaseP","decreaseP","neutralP","increase","decrease","neutral","type","data","getPoolStatusOf","getPoolBalanceOfBonded","getPoolBalanceOfStaged","getPoolBalanceOfRewarded","balanceOfRewarded","getPoolBalanceOfClaimable","balanceOfClaimable","getPoolTotalBonded","getPoolTotalRewarded","totalRewarded","getPoolTotalClaimable","totalClaimable","getPoolFluidUntil","getBlockNumber","bondP","unbondP","startEpoch","start","parseInt","toString","loadFluidStatusPool","lastUnbond","Math","max","u","lastBond","d","fluidEpoch","loadFluidStatusDao","toBaseUnitBN","rawAmt","raw","base","decimalsBN","times","integerValue","toTokenUnitsBN","tokenAmount","tokenDecimals","digits","div","isPos","isZero","isPositive","ownership","balance","multipliedBy","dividedBy","formatBN","position","isLessThan","bnStr","includes","parts","split","i","pad","precision","ROUND_FLOOR","replace","delineate","formatMoney","n","toPrecision","abs","Number","getPoolAddress","TotalBalance","user","useState","totalBalance","setTotalBalance","useEffect","isCancelled","updateUserInfo","id","setInterval","clearInterval","poolAddress","esdBalance","stagedBalance","bondedBalance","pairBalanceESDStr","pairTotalSupplyUNIStr","userUNIBalanceStr","userPoolBondedBalanceStr","userPoolStagedBalanceStr","userPoolRewardedBalanceStr","userPoolClaimableBalanceStr","userBalance","userStagedBalance","userBondedBalance","userUNIBalance","userPoolBondedBalance","userPoolStagedBalance","userPoolRewardedBalance","userPoolClaimableBalance","UNItoESD","daoTotalBalance","poolTotalBalance","circulationBalance","style","fontSize","padding","fontWeight","lineHeight","fontFamily","ConnectModal","visible","onClose","onConnect","wallet","useWallet","primary","width","margin","wide","label","icon","src","height","alt","onClick","ConnectButton","hasWeb3","setUser","status","reset","isModalOpen","setModalOpen","connectWeb3","disconnectWeb3","toggleModal","display","flex","marginRight","textAlign","entity","disabled","LinkButton","title","isSelected","marginLeft","opacity","NavBar","history","useHistory","currentTheme","useTheme","page","setPage","listen","location","pathname","logoUrl","_name","borderTop","border","backgroundColor","maxWidth","paddingTop","push","open","EpochBlock","epochformatted","epochRemainder","floor","Date","now","epochHour","epochMinute","MainButton","description","tag","HomePage","setEpochTime","flexWrap","alignItems","flexBasis","flexGrow","className","AddressBlock","address","shorten","BalanceBlock","asset","suffix","integer","balanceBN","gte","tokens","color","MaxButton","PriceSection","forceDisplay","amtBN","gt","toNumber","Comment","styled","MyCheckBox","text","checked","onCheck","CheckBoxWrapper","onChange","props","surfaceContentSecondary","TradePageHeader","pairBalanceESD","pairBalanceUSDC","uniswapPair","price","IconHeader","href","UniswapPool","setPairBalanceESD","setPairBalanceUSDC","pairBalanceUSDCStr","SwitchMode","updateTheme","FooterLink","Footer","surface","left","bottom","marginTop","marginBottom","role","aria-labelledby","TextBlock","STATUS_MAP","accountStatus","unlocked","AccountPageHeader","accountESDBalance","accountESDSBalance","totalESDSSupply","accountStagedBalance","accountBondedBalance","BigNumberInput","setter","adornment","adornmentPosition","isNegative","target","onBlur","WithdrawDeposit","depositAmount","setDepositAmount","withdrawAmount","setWithdrawAmount","heading","comparedTo","minWidth","isGreaterThan","BondUnbond","staged","bonded","lockup","bondAmount","setBondAmount","unbondAmount","setUnbondAmount","Invest","supply","Wallet","override","useParams","userESDBalance","setUserESDBalance","userESDAllowance","setUserESDAllowance","userESDSBalance","setUserESDSBalance","setTotalESDSSupply","setUserStagedBalance","setUserBondedBalance","userStatus","setUserStatus","userStatusUnlocked","setUserStatusUnlocked","setLockup","setTotalSupply","setTotalBonded","fluidStatus","setFluidStatus","isCancelledApr","updateAPR","totalSupplyStr","totalBondedStr","esdAllowance","esdsBalance","esdsSupply","fluidUntilStr","lockedUntilStr","fluidStatusStr","lockedUntil","apr","NumberBlock","num","numNum","AdvanceEpoch","EpochPageHeader","EpochDetail","setEpoch","epochStr","epochTimeStr","CouponMarketHeader","debt","premium","redeemable","PurchaseCoupons","purchaseAmount","setPurchaseAmount","setPremium","updatePremium","lte","purchaseAmountBase","premiumFormatted","maxPurchaseAmount","PurchaseHistory","hideRedeemed","setEpochs","initialized","setInitialized","epochsFromEvents","epochNumbers","couponsExpirations","expiration","fields","entries","entriesPerPage","onPageChange","renderEntry","ModalWarning","storedShowWarning","showWarning","setShowWarning","closeButton","warning","warningSurfaceContent","ONE_COUPON","CouponMarket","storedHideRedeemed","setBalance","setAllowance","setSupply","setCoupons","setRedeemable","setCouponPremium","setDebt","setHideRedeemed","balanceStr","allowanceStr","supplyStr","debtStr","couponsStr","redeemableStr","couponPremiumStr","alignSelf","CheckBox","GovernanceHeader","stake","totalStake","proposalStatus","period","reject","total","canPropose","plausibleCandidate","test","ProposeCandidate","setCandidate","formatProposals","proposals","currentTotalStake","p","initializeds","approves","rejecteds","at","supplyAts","index","CandidateHistory","setProposals","allProposals","formattedProposals","proposal","Governance","setStake","setTotalStake","setImplementation","statusStr","stakeStr","totalStakeStr","implementationStr","VOTE_TYPE_MAP","Vote","participation","dividedToIntegerBy","VoteHeader","showParticipation","CommitHeader","periodEpoch","Commit","s","approved","Candidate","setApproveFor","setRejectFor","setVote","setStatus","userStake","setUserStake","setStartEpoch","setPeriodEpoch","voteStr","userStakeStr","approveForStr","rejectForStr","startForStr","periodForStr","epochN","startN","periodN","endsAfter","RegulationHeader","poolLiquidity","poolRewarded","poolClaimable","daoTotalSupply","poolTotalSupply","circulatingSupply","items","item","percentage","formatPrice","formatDeltaRedeemable","newRedeemable","formatDeltaDebt","lessDebt","newDebt","formatDeltaBonded","newBonded","RegulationHistory","regulations","setRegulations","allRegulations","Regulation","setTotalStaged","setTotalRedeemable","setPoolLiquidity","poolTotalRewarded","setPoolTotalRewarded","poolTotalClaimable","setPoolTotalClaimable","setTotalDebt","setTotalCoupons","totalStagedStr","totalRedeemableStr","poolLiquidityStr","poolTotalRewardedStr","poolTotalClaimableStr","totalDebtStr","totalCouponsStr","PoolPageHeader","accountUNIBalance","accountRewardedESDBalance","accountClaimableESDBalance","poolTotalBonded","accountPoolStatus","isNaN","Claim","claimable","claimAmount","setClaimAmount","ESDLpBonded","ESDLPBonded","lpHourly","lpDaily","lpWeekly","Pool","setPoolAddress","setPoolTotalBonded","setUserUNIBalance","userUNIAllowance","setUserUNIAllowance","setUserUSDCBalance","setUserUSDCAllowance","userRewardedBalance","setUserRewardedBalance","userClaimableBalance","setUserClaimableBalance","poolAddressStr","poolTotalBondedStr","usdcBalance","usdcAllowance","rewardedBalance","claimableBalance","pairESDBalance","pairUSDCBalance","userUSDCBalance","HomePageNoWeb3","App","storedTheme","setHasWeb3","setTheme","chainId","connectors","walletconnect","rpcUrl","walletlink","url","appName","appLogoUrl","assetsUrl","process","layout","path","Trade","newTheme","Boolean","hostname","match","Moment","locale","momentLocalizer","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.b20903e2.chunk.js","sourcesContent":["export const notify = {\n  hash: (v) => console.log(v)\n}","export const UNI = {\n  addr: '0x688457933ac7570b31eca4390573945f8931ce4c', // Uniswap V2: SD-BUSD\n  decimals: 18,\n  symbol: 'Cake-LP',\n};\n\nexport const USDC = {\n  addr: '0xe9e7CEA3DedcA5984780Bafc599bD69ADd087D56', // USD Coin\n  decimals: 18,\n  symbol: 'USDC',\n};\n\nexport const ESD = {\n  addr: '0x69eb9DDa7776Dfa2feF16B61D0Ada70F4bC1A3Ca', // Empty Set Dollar: ESD Token\n  decimals: 18,\n  symbol: 'SD',\n};\n\nexport const ESDS = {\n  addr: '0x61b9f54b5F9c5AaddB1c10a3EDa1214a9F23dB49', // Root\n  decimals: 18,\n  symbol: 'SDS',\n};\n","/* eslint-disable camelcase */\nimport Web3 from 'web3';\nimport BigNumber from 'bignumber.js';\n\nimport { notify } from './txNotifier.ts';\nimport { UniswapV2Router02 } from '../constants/contracts';\n\nimport { ESD, USDC } from '../constants/tokens';\n\nconst uniswapRouterAbi = require('../constants/abi/UniswapV2Router02.json');\nconst testnetUSDCAbi = require('../constants/abi/TestnetUSDC.json');\nconst daoAbi = require('../constants/abi/Implementation.json');\nconst poolAbi = require('../constants/abi/Pool.json');\n\nconst DEADLINE_FROM_NOW = 60 * 15;\nconst UINT256_MAX = '0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff';\n\n/**\n * Connection Utilities\n */\n\nexport const updateModalMode = async (theme) => {\n  window.darkMode = theme === 'dark';\n};\n\nexport const connect = async (ethereum) => {\n  window.web3 = new Web3(ethereum);\n  let addresses = await window.web3.eth.getAccounts();\n  if (!addresses.length) {\n    try {\n      addresses = await window.ethereum.enable();\n    } catch (e) {\n      console.log(e);\n      return false;\n    }\n  }\n\n  return addresses.length ? addresses[0].toLowerCase() : null;\n};\n\n// eslint-disable-next-line consistent-return\nexport const checkConnectedAndGetAddress = async () => {\n  let addresses = await window.web3.eth.getAccounts();\n  if (!addresses.length) {\n    try {\n      addresses = await window.ethereum.enable();\n      // eslint-disable-next-line no-empty\n    } catch (e) { }\n  }\n\n  return addresses[0];\n};\n\n/**\n * ERC20 Utilities\n */\n\nexport const approve = async (tokenAddr, spender, amt = UINT256_MAX) => {\n  const account = await checkConnectedAndGetAddress();\n  const oToken = new window.web3.eth.Contract(testnetUSDCAbi, tokenAddr);\n  await oToken.methods\n    .approve(spender, amt)\n    .send({ from: account })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n    });\n};\n\nexport const mintTestnetUSDC = async (amount) => {\n  const account = await checkConnectedAndGetAddress();\n  const usdc = new window.web3.eth.Contract(testnetUSDCAbi, USDC.addr);\n\n  await usdc.methods.mint(account, new BigNumber(amount).toFixed())\n    .send({ from: account })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n    });\n};\n\n/**\n * Uniswap Protocol\n */\n\nexport const buyESD = async (buyAmount, maxInputAmount) => {\n  const account = await checkConnectedAndGetAddress();\n  const router = new window.web3.eth.Contract(uniswapRouterAbi, UniswapV2Router02);\n  const deadline = Math.ceil(Date.now() / 1000) + DEADLINE_FROM_NOW;\n\n  await router.methods.swapTokensForExactTokens(\n    buyAmount,\n    maxInputAmount,\n    [USDC.addr, ESD.addr],\n    account,\n    deadline,\n  )\n    .send({ from: account })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n    });\n};\n\nexport const sellESD = async (sellAmount, minOutputAmount) => {\n  const account = await checkConnectedAndGetAddress();\n  const router = new window.web3.eth.Contract(uniswapRouterAbi, UniswapV2Router02);\n  const deadline = Math.ceil(Date.now() / 1000) + DEADLINE_FROM_NOW;\n\n  await router.methods.swapExactTokensForTokens(\n    sellAmount,\n    minOutputAmount,\n    [ESD.addr, USDC.addr],\n    account,\n    deadline,\n  )\n    .send({ from: account })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n    });\n};\n\nexport const addLiquidity = async (amountESD, amountUSDC, slippage) => {\n  const account = await checkConnectedAndGetAddress();\n  const router = new window.web3.eth.Contract(uniswapRouterAbi, UniswapV2Router02);\n  const deadline = Math.ceil(Date.now() / 1000) + DEADLINE_FROM_NOW;\n  const slippageBN = new BigNumber(slippage);\n  const minAmountESD = new BigNumber(amountESD)\n    .multipliedBy(new BigNumber(1).minus(slippageBN))\n    .integerValue(BigNumber.ROUND_FLOOR);\n  const minAmountUSDC = new BigNumber(amountUSDC)\n    .multipliedBy(new BigNumber(1).minus(slippageBN))\n    .integerValue(BigNumber.ROUND_FLOOR);\n\n  await router.methods.addLiquidity(\n    ESD.addr,\n    USDC.addr,\n    new BigNumber(amountESD).toFixed(),\n    new BigNumber(amountUSDC).toFixed(),\n    minAmountESD,\n    minAmountUSDC,\n    account,\n    deadline,\n  )\n    .send({ from: account })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n    });\n};\n\nexport const removeLiquidity = async (liquidityAmount, minAmountESD, minAmountUSDC) => {\n  const account = await checkConnectedAndGetAddress();\n  const router = new window.web3.eth.Contract(uniswapRouterAbi, UniswapV2Router02);\n  const deadline = Math.ceil(Date.now() / 1000) + DEADLINE_FROM_NOW;\n\n  await router.methods.removeLiquidity(\n    ESD.addr,\n    USDC.addr,\n    new BigNumber(liquidityAmount).toFixed(),\n    new BigNumber(minAmountESD).toFixed(),\n    new BigNumber(minAmountUSDC).toFixed(),\n    account,\n    deadline,\n  )\n    .send({ from: account })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n    });\n};\n\n/**\n * SD Protocol\n */\n\nexport const advance = async (dao) => {\n  const account = await checkConnectedAndGetAddress();\n  const daoContract = new window.web3.eth.Contract(daoAbi, dao);\n  await daoContract.methods\n    .advance()\n    .send({\n      from: account,\n    })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n    });\n};\n\nexport const deposit = async (dao, amount) => {\n  const account = await checkConnectedAndGetAddress();\n  const daoContract = new window.web3.eth.Contract(daoAbi, dao);\n  await daoContract.methods\n    .deposit(new BigNumber(amount).toFixed())\n    .send({\n      from: account,\n    })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n    });\n};\n\nexport const withdraw = async (dao, amount) => {\n  const account = await checkConnectedAndGetAddress();\n  const daoContract = new window.web3.eth.Contract(daoAbi, dao);\n  await daoContract.methods\n    .withdraw(new BigNumber(amount).toFixed())\n    .send({\n      from: account,\n    })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n    });\n};\n\nexport const bond = async (dao, amount) => {\n  const account = await checkConnectedAndGetAddress();\n  const daoContract = new window.web3.eth.Contract(daoAbi, dao);\n  await daoContract.methods\n    .bond(new BigNumber(amount).toFixed())\n    .send({\n      from: account,\n    })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n    });\n};\n\nexport const unbond = async (dao, amount) => {\n  const account = await checkConnectedAndGetAddress();\n  const daoContract = new window.web3.eth.Contract(daoAbi, dao);\n  await daoContract.methods\n    .unbond(new BigNumber(amount).toFixed())\n    .send({\n      from: account,\n    })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n    });\n};\n\nexport const unbondUnderlying = async (dao, amount) => {\n  const account = await checkConnectedAndGetAddress();\n  const daoContract = new window.web3.eth.Contract(daoAbi, dao);\n  await daoContract.methods\n    .unbondUnderlying(new BigNumber(amount).toFixed())\n    .send({\n      from: account,\n    })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n    });\n};\n\nexport const purchaseCoupons = async (dao, amount) => {\n  const account = await checkConnectedAndGetAddress();\n  const daoContract = new window.web3.eth.Contract(daoAbi, dao);\n  await daoContract.methods\n    .purchaseCoupons(new BigNumber(amount).toFixed())\n    .send({\n      from: account,\n    })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n    });\n};\n\nexport const redeemCoupons = async (dao, epoch, amount) => {\n  const account = await checkConnectedAndGetAddress();\n  const daoContract = new window.web3.eth.Contract(daoAbi, dao);\n  await daoContract.methods\n    .redeemCoupons(epoch, new BigNumber(amount).toFixed())\n    .send({\n      from: account,\n    })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n    });\n};\n\nexport const recoverCoupons = async (dao, epoch, amount) => {\n  const account = await checkConnectedAndGetAddress();\n  const daoContract = new window.web3.eth.Contract(daoAbi, dao);\n  await daoContract.methods\n      .recoverCoupons(epoch, new BigNumber(amount).toFixed())\n      .send({\n        from: account,\n      })\n      .on('transactionHash', (hash) => {\n        notify.hash(hash);\n      });\n};\n\nexport const recordVote = async (dao, candidate, voteType) => {\n  const account = await checkConnectedAndGetAddress();\n  const daoContract = new window.web3.eth.Contract(daoAbi, dao);\n  await daoContract.methods\n    .vote(candidate, voteType)\n    .send({\n      from: account,\n    })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n    });\n};\n\nexport const commit = async (dao, candidate) => {\n  const account = await checkConnectedAndGetAddress();\n  const daoContract = new window.web3.eth.Contract(daoAbi, dao);\n  await daoContract.methods\n    .commit(candidate)\n    .send({\n      from: account,\n    })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n    });\n};\n\n/* Cake-LP Incentivization Pool */\nexport const depositPool = async (pool, amount, callback) => {\n  const account = await checkConnectedAndGetAddress();\n  const poolContract = new window.web3.eth.Contract(poolAbi, pool);\n  await poolContract.methods\n    .deposit(new BigNumber(amount).toFixed())\n    .send({\n      from: account,\n    })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n      callback(hash);\n    });\n};\n\nexport const withdrawPool = async (pool, amount, callback) => {\n  const account = await checkConnectedAndGetAddress();\n  const poolContract = new window.web3.eth.Contract(poolAbi, pool);\n  await poolContract.methods\n    .withdraw(new BigNumber(amount).toFixed())\n    .send({\n      from: account,\n    })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n      callback(hash);\n    });\n};\n\nexport const bondPool = async (pool, amount, callback) => {\n  const account = await checkConnectedAndGetAddress();\n  const poolContract = new window.web3.eth.Contract(poolAbi, pool);\n  await poolContract.methods\n    .bond(new BigNumber(amount).toFixed())\n    .send({\n      from: account,\n    })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n      callback(hash);\n    });\n};\n\nexport const unbondPool = async (pool, amount, callback) => {\n  const account = await checkConnectedAndGetAddress();\n  const poolContract = new window.web3.eth.Contract(poolAbi, pool);\n  await poolContract.methods\n    .unbond(new BigNumber(amount).toFixed())\n    .send({\n      from: account,\n    })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n      callback(hash);\n    });\n};\n\nexport const claimPool = async (pool, amount, callback) => {\n  const account = await checkConnectedAndGetAddress();\n  const poolContract = new window.web3.eth.Contract(poolAbi, pool);\n  await poolContract.methods\n    .claim(new BigNumber(amount).toFixed())\n    .send({\n      from: account,\n    })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n      callback(hash);\n    });\n};\n\nexport const providePool = async (pool, amount, callback) => {\n  const account = await checkConnectedAndGetAddress();\n  const poolContract = new window.web3.eth.Contract(poolAbi, pool);\n  await poolContract.methods\n    .provide(new BigNumber(amount).toFixed())\n    .send({\n      from: account,\n    })\n    .on('transactionHash', (hash) => {\n      notify.hash(hash);\n      callback(hash);\n    });\n};\n","/**\n * Get value by key\n * @param {string} key\n * @param {string} defaultValue\n */\nexport function getPreference(key:string, defaultValue:string): string {\n  return localStorage.getItem(key) || defaultValue;\n}\n\n/**\n * store value to storage\n * @param {string} key\n * @param {string} value\n */\nexport function storePreference(key:string, value:string):void {\n  localStorage.setItem(key, value);\n}\n","import Web3 from 'web3';\n\nimport BigNumber from 'bignumber.js';\nimport { UniswapV2Router02 } from '../constants/contracts';\nimport { ESD, UNI, USDC } from '../constants/tokens';\nimport { POOL_EXIT_LOCKUP_EPOCHS } from '../constants/values';\n\nconst dollarAbi = require('../constants/abi/Dollar.json');\nconst daoAbi = require('../constants/abi/Implementation.json');\nconst poolAbi = require('../constants/abi/Pool.json');\nconst uniswapRouterAbi = require('../constants/abi/UniswapV2Router02.json');\nconst uniswapPairAbi = require('../constants/abi/UniswapV2Pair.json');\n\nlet web3;\n// eslint-disable-next-line no-undef\nif (window.ethereum !== undefined) {\n  // eslint-disable-next-line no-undef\n  web3 = new Web3(ethereum);\n}\n\n/**\n *\n * @param {string} token address\n * @param {string} account address\n * @return {Promise<string>}\n */\nexport const getTokenBalance = async (token, account) => {\n  if (account === '') return '0';\n  const tokenContract = new web3.eth.Contract(dollarAbi, token);\n  //console.log('getTokenBalance', token);\n  return tokenContract.methods.balanceOf(account).call();\n};\n\nexport const getTokenTotalSupply = async (token) => {\n  const tokenContract = new web3.eth.Contract(dollarAbi, token);\n  return tokenContract.methods.totalSupply().call();\n};\n\n/**\n *\n * @param {string} token\n * @param {string} account\n * @param {string} spender\n * @return {Promise<string>}\n */\nexport const getTokenAllowance = async (token, account, spender) => {\n  const tokenContract = new web3.eth.Contract(dollarAbi, token);\n  return tokenContract.methods.allowance(account, spender).call();\n};\n\n// SD Protocol\n\n/**\n *\n * @param {string} dao address\n * @param {string} account address\n * @return {Promise<string>}\n */\nexport const getBalanceBonded = async (dao, account) => {\n  if (account === '') return '0';\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\n  return daoContract.methods.balanceOfBonded(account).call();\n};\n\n/**\n *\n * @param {string} dao address\n * @param {string} account address\n * @return {Promise<string>}\n */\nexport const getBalanceOfStaged = async (dao, account) => {\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\n  return daoContract.methods.balanceOfStaged(account).call();\n};\n\n/**\n *\n * @param {string} dao address\n * @param {string} account address\n * @return {Promise<string>}\n */\nexport const getStatusOf = async (dao, account) => {\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\n  return daoContract.methods.statusOf(account).call();\n};\n\n/**\n *\n * @param {string} dao address\n * @param {string} account address\n * @return {Promise<string>}\n */\nexport const getFluidUntil = async (dao, account) => {\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\n  return daoContract.methods.fluidUntil(account).call();\n};\n\n/**\n *\n * @param {string} dao address\n * @param {string} account address\n * @return {Promise<string>}\n */\nexport const getLockedUntil = async (dao, account) => {\n  //const daoContract = new web3.eth.Contract(daoAbi, dao);\n  //return daoContract.methods.lockedUntil(account).call();\n  return 0;\n};\n\n/**\n *\n * @param {string} dao address\n * @return {Promise<string>}\n */\nexport const getEpoch = async (dao) => {\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\n  console.log('getEpoch', dao);\n  return daoContract.methods.epoch().call();\n};\n\n/**\n *\n * @param {string} dao address\n * @return {Promise<string>}\n */\nexport const getEpochTime = async (dao) => {\n  console.log('getEpochTime', dao);\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\n  return daoContract.methods.epochTime().call();\n};\n\n/**\n *\n * @param {string} dao address\n * @return {Promise<string>}\n */\nexport const getTotalDebt = async (dao) => {\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\n  return daoContract.methods.totalDebt().call();\n};\n\n/**\n *\n * @param {string} dao address\n * @return {Promise<string>}\n */\nexport const getTotalRedeemable = async (dao) => {\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\n  return daoContract.methods.totalRedeemable().call();\n};\n\n/**\n *\n * @param {string} dao address\n * @return {Promise<string>}\n */\nexport const getTotalCoupons = async (dao) => {\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\n  return daoContract.methods.totalCoupons().call();\n};\n\n/**\n *\n * @param {string} dao address\n * @return {Promise<string>}\n */\nexport const getTotalBonded = async (dao) => {\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\n  return daoContract.methods.totalBonded().call();\n};\n\n/**\n *\n * @param {string} dao address\n * @return {Promise<string>}\n */\nexport const getTotalStaged = async (dao) => {\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\n  return daoContract.methods.totalStaged().call();\n};\n\n/**\n *\n * @param {string} dao address\n * @param {number} epoch number\n * @return {Promise<string>}\n */\nexport const getTotalBondedAt = async (dao, epoch) => {\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\n  return daoContract.methods.totalBondedAt(epoch).call();\n};\n\n/**\n *\n * @param {string} dao address\n * @param {string} candidate address\n * @return {Promise<string>}\n */\nexport const getApproveFor = async (dao, candidate) => {\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\n  return daoContract.methods.approveFor(candidate).call();\n};\n\n/**\n *\n * @param {string} dao address\n * @param {string} candidate address\n * @return {Promise<string>}\n */\nexport const getRejectFor = async (dao, candidate) => {\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\n  return daoContract.methods.rejectFor(candidate).call();\n};\n\n/**\n *\n * @param {string} dao address\n * @param {string} candidate address\n * @return {Promise<string>}\n */\nexport const getStartFor = async (dao, candidate) => {\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\n  return daoContract.methods.startFor(candidate).call();\n};\n\n/**\n *\n * @param {string} dao address\n * @param {string} candidate address\n * @return {Promise<string>}\n */\nexport const getPeriodFor = async (dao, candidate) => {\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\n  return daoContract.methods.periodFor(candidate).call();\n};\n\n/**\n *\n * @param {string} dao address\n * @param {string} candidate address\n * @return {Promise<boolean>}\n */\nexport const getIsInitialized = async (dao, candidate) => {\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\n  return daoContract.methods.isInitialized(candidate).call();\n};\n\n/**\n *\n * @param {string} dao address\n * @param {string} account address\n * @param {string} candidate address\n * @return {Promise<string>}\n */\nexport const getRecordedVote = async (dao, account, candidate) => {\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\n  return daoContract.methods.recordedVote(account, candidate).call();\n};\n\n/**\n *\n * @param {string} dao address\n * @param {string} account address\n * @param {number} epoch number\n * @return {Promise<string>}\n */\nexport const getBalanceOfCoupons = async (dao, account, epoch) => {\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\n  return daoContract.methods.balanceOfCoupons(account, epoch).call();\n};\n\n/**\n *\n * @param {string} dao address\n * @param {string} account address\n * @param {number[]} epochs number[]\n * @return {Promise<string[]>}\n */\nexport const getBatchBalanceOfCoupons = async (dao, account, epochs) => {\n  const calls = epochs.map((epoch) => getBalanceOfCoupons(dao, account, epoch));\n  return Promise.all(calls);\n};\n\n/**\n *\n * @param {string} dao address\n * @param {number} epoch address\n * @return {Promise<string>}\n */\nexport const getOutstandingCoupons = async (dao, epoch) => {\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\n  return daoContract.methods.outstandingCoupons(epoch).call();\n};\n\n/**\n *\n * @param {string} dao address\n * @param {number} epoch number\n * @return {Promise<string>}\n */\nexport const getCouponsExpiration = async (dao, epoch) => {\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\n  return daoContract.methods.couponsExpiration(epoch).call();\n};\n\n/**\n *\n * @param {string} dao address\n * @param {number[]} epochs number[]\n * @return {Promise<string[]>}\n */\nexport const getBatchCouponsExpiration = async (dao, epochs) => {\n  const calls = epochs.map((epoch) => getCouponsExpiration(dao, epoch));\n  return Promise.all(calls);\n};\n\n/**\n *\n * @param {string} dao address\n * @param {string|BigNumber} amount uint256\n * @return {Promise<string>}\n */\nexport const getCouponPremium = async (dao, amount) => {\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\n  return daoContract.methods.couponPremium(new BigNumber(amount).toFixed()).call();\n};\n\n/**\n *\n * @param {string} dao address\n * @return {Promise<string>}\n */\nexport const getImplementation = async (dao) => {\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\n  return daoContract.methods.implementation().call();\n};\n\n/**\n *\n * @param {string} dao address\n * @return {Promise<string>}\n */\nexport const getPool = async (dao) => {\n  //console.log('getPool', dao);\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\n  return daoContract.methods.pool().call();\n};\n\n/**\n *\n * @param {string} dao\n * @param {string} account\n * @return {Promise<any[]>}\n */\nexport const getCouponEpochs = async (dao, account) => {\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\n  const purchaseP = daoContract.getPastEvents('CouponPurchase', {\n    filter: { account },\n    fromBlock: 0,\n  });\n  const transferP = daoContract.getPastEvents('CouponTransfer', {\n    filter: { to: account },\n    fromBlock: 0,\n  });\n  const [bought, given] = await Promise.all([purchaseP, transferP]);\n  const events = bought.map((e) => ({epoch: e.returnValues.epoch, amount: e.returnValues.couponAmount}))\n    .concat(given.map((e) => ({epoch: e.returnValues.epoch, amount: 0})));\n\n  const couponEpochs = [\n    ...events.reduce(\n      (map, event) => {\n        const { epoch, amount } = event;\n        const prev = map.get(epoch);\n\n        if (prev) {\n          map.set(epoch, { epoch, coupons: prev.coupons.plus(new BigNumber(amount)) });\n        } else {\n          map.set(epoch, { epoch, coupons: new BigNumber(amount) });\n        }\n\n        return map;\n      },\n      new Map(),\n    ).values(),\n  ];\n\n  return couponEpochs.sort((a, b) => a - b);\n};\n\n/**\n *\n * @param {string} dao\n * @return {Promise<any[]>}\n */\nexport const getAllProposals = async (dao) => {\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\n  const payload = (await daoContract.getPastEvents('Proposal', {\n    fromBlock: 0,\n  })).map((event) => {\n    const prop = event.returnValues;\n    prop.blockNumber = event.blockNumber;\n    return prop;\n  });\n  return payload.sort((a, b) => b.blockNumber - a.blockNumber);\n};\n\n/**\n *\n * @param {string} dao\n * @return {Promise<any[]>}\n */\nexport const getAllRegulations = async (dao) => {\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\n  const increaseP = daoContract.getPastEvents('SupplyIncrease', { fromBlock: 0 });\n  const decreaseP = daoContract.getPastEvents('SupplyDecrease', { fromBlock: 0 });\n  const neutralP = daoContract.getPastEvents('SupplyNeutral', { fromBlock: 0 });\n\n  const [increase, decrease, neutral] = await Promise.all([increaseP, decreaseP, neutralP]);\n\n  const events = increase.map((e) => ({ type: 'INCREASE', data: e.returnValues }))\n    .concat(decrease.map((e) => ({ type: 'DECREASE', data: e.returnValues })))\n    .concat(neutral.map((e) => ({ type: 'NEUTRAL', data: e.returnValues })));\n\n  return events.sort((a, b) => b.data.epoch - a.data.epoch);\n};\n\n// Uniswap Protocol\n\nexport const getCost = async (amount) => {\n  const exchange = new web3.eth.Contract(uniswapRouterAbi, UniswapV2Router02);\n  // eslint-disable-next-line no-unused-vars\n  const [inputAmount, _] = await exchange.methods.getAmountsIn(\n    new BigNumber(amount).toFixed(),\n    [USDC.addr, ESD.addr],\n  ).call();\n  return inputAmount;\n};\n\nexport const getProceeds = async (amount) => {\n  const exchange = new web3.eth.Contract(uniswapRouterAbi, UniswapV2Router02);\n  // eslint-disable-next-line no-unused-vars\n  const [_, outputAmount] = await exchange.methods.getAmountsOut(\n    new BigNumber(amount).toFixed(),\n    [ESD.addr, USDC.addr],\n  ).call();\n  return outputAmount;\n};\n\nexport const getReserves = async () => {\n  const exchange = new web3.eth.Contract(uniswapPairAbi, UNI.addr);\n  return exchange.methods.getReserves().call();\n};\n\nexport const getInstantaneousPrice = async () => {\n  const [reserve, token0] = await Promise.all([getReserves(), getToken0()]);\n  const token0Balance = new BigNumber(reserve.reserve0);\n  const token1Balance = new BigNumber(reserve.reserve1);\n  if (token0.toLowerCase() === USDC.addr.toLowerCase()) {\n    return token0Balance.multipliedBy(new BigNumber(10).pow(12)).dividedBy(token1Balance);\n  }\n  return token1Balance.multipliedBy(new BigNumber(10).pow(12)).dividedBy(token0Balance);\n};\n\nexport const getToken0 = async () => {\n  const exchange = new web3.eth.Contract(uniswapPairAbi, UNI.addr);\n  return exchange.methods.token0().call();\n};\n\n// Pool\n\nexport const getPoolStatusOf = async (pool, account) => {\n  const poolContract = new web3.eth.Contract(poolAbi, pool);\n  return poolContract.methods.statusOf(account).call();\n};\n\n\n/**\n *\n * @param {string} pool address\n * @param {string} account address\n * @return {Promise<string>}\n */\nexport const getPoolBalanceOfBonded = async (pool, account) => {\n  if (account === '') return '0';\n  const poolContract = new web3.eth.Contract(poolAbi, pool);\n  //console.log('pool', pool);\n  return poolContract.methods.balanceOfBonded(account).call();\n};\n\n/**\n *\n * @param {string} pool address\n * @param {string} account address\n * @return {Promise<string>}\n */\nexport const getPoolBalanceOfStaged = async (pool, account) => {\n  const poolContract = new web3.eth.Contract(poolAbi, pool);\n  //console.log('getPoolBalanceOfStaged', pool)\n  return poolContract.methods.balanceOfStaged(account).call();\n};\n\n/**\n *\n * @param {string} pool address\n * @param {string} account address\n * @return {Promise<string>}\n */\nexport const getPoolBalanceOfRewarded = async (pool, account) => {\n  if (account === '') return '0';\n  const poolContract = new web3.eth.Contract(poolAbi, pool);\n  return poolContract.methods.balanceOfRewarded(account).call();\n};\n\n/**\n *\n * @param {string} pool address\n * @param {string} account address\n * @return {Promise<string>}\n */\nexport const getPoolBalanceOfClaimable = async (pool, account) => {\n  const poolContract = new web3.eth.Contract(poolAbi, pool);\n  return poolContract.methods.balanceOfClaimable(account).call();\n};\n\n/**\n *\n * @param {string} pool address\n * @param {string} account address\n * @return {Promise<string>}\n */\nexport const getPoolTotalBonded = async (pool) => {\n  const poolContract = new web3.eth.Contract(poolAbi, pool);\n  return poolContract.methods.totalBonded().call();\n};\n\n/**\n *\n * @param {string} pool address\n * @param {string} account address\n * @return {Promise<string>}\n */\nexport const getPoolTotalRewarded = async (pool) => {\n  const poolContract = new web3.eth.Contract(poolAbi, pool);\n  return poolContract.methods.totalRewarded().call();\n};\n\n/**\n *\n * @param {string} pool address\n * @param {string} account address\n * @return {Promise<string>}\n */\nexport const getPoolTotalClaimable = async (pool) => {\n  const poolContract = new web3.eth.Contract(poolAbi, pool);\n  return poolContract.methods.totalClaimable().call();\n};\n\n/**\n *\n * @param {string} pool address\n * @param {string} account address\n * @return {Promise<string>}\n */\nexport const getPoolFluidUntil = async (pool, account) => {\n  const poolContract = new web3.eth.Contract(poolAbi, pool);\n\n  // no need to look back further than the pool lockup period\n  const blockNumber = await web3.eth.getBlockNumber();\n  const fromBlock = blockNumber - (POOL_EXIT_LOCKUP_EPOCHS + 1) * 8640;\n  const bondP = poolContract.getPastEvents('Bond', {\n    filter: {account: account}, fromBlock: fromBlock });\n  const unbondP = poolContract.getPastEvents('Unbond', {\n    filter: {account: account}, fromBlock: fromBlock });\n\n  const [bond, unbond] = await Promise.all([bondP, unbondP]);\n\n  const events = bond.map((e) => e.returnValues)\n    .concat(unbond.map((e) => e.returnValues));\n\n  const startEpoch = events.reduce(\n    (epoch, event) => {\n      if (epoch > event.start)\n        return epoch\n      else\n        return event.start\n    }, 0);\n\n  //console.log('startEpoch', startEpoch, (parseInt(startEpoch, 10) + POOL_EXIT_LOCKUP_EPOCHS - 1) );\n\n  // these contract events report the start epoch as one more than the active\n  // epoch when the event is emitted, so we subtract 1 here to adjust\n  return (parseInt(startEpoch, 10) + POOL_EXIT_LOCKUP_EPOCHS - 1).toString();\n};\n\n\nexport const loadFluidStatusPool = async (pool, account) => {\n  const poolContract = new web3.eth.Contract(poolAbi, pool);\n  const bondP = await poolContract.getPastEvents('Bond', { filter: { account }, fromBlock: 3940196 });\n  const unbondP = await poolContract.getPastEvents('Unbond', { filter: { account }, fromBlock: 3940196 });\n\n  if (bondP.length + unbondP.length > 0) {\n    const lastUnbond = Math.max(...unbondP.map((u) => u.returnValues.start / 1));\n    const lastBond = Math.max(...bondP.map((d) => d.returnValues.start / 1));\n    const fluidEpoch = Math.max(lastUnbond, lastBond);\n\n    return { lastUnbond, lastBond, fluidEpoch: fluidEpoch - 1 };\n  }\n};\n\n/**\n *\n * @param {string} dao address\n * @param {string} account address\n * @return {Promise<{fluidEpoch: number, lastBond: number, lastUnbond: number}>}\n */\n\nexport const loadFluidStatusDao = async (dao, account) => {\n  const daoContract = new web3.eth.Contract(daoAbi, dao);\n  const bondP = await daoContract.getPastEvents('Bond', { filter: { account }, fromBlock: 3940196 });\n  const unbondP = await daoContract.getPastEvents('Unbond', { filter: { account }, fromBlock: 3940196 });\n  if (bondP.length + unbondP.length > 0) {\n    const lastUnbond = Math.max(...unbondP.map((u) => u.returnValues.start / 1));\n    const lastBond = Math.max(...bondP.map((d) => d.returnValues.start / 1));\n    const fluidEpoch = Math.max(lastUnbond, lastBond);\n\n    return { lastUnbond, lastBond, fluidEpoch: fluidEpoch - 1 };\n  }\n};","import BigNumber from 'bignumber.js';\n\n// eslint-disable-next-line import/prefer-default-export\nexport const MAX_UINT256 = new BigNumber(2).pow(256).minus(1);\nexport const GOVERNANCE_QUORUM = new BigNumber('0.20');\nexport const GOVERNANCE_PROPOSAL_THRESHOLD = new BigNumber('0.005');\nexport const COUPON_EXPIRATION = 1440\nexport const DAO_EXIT_LOCKUP_EPOCHS = 36\nexport const POOL_EXIT_LOCKUP_EPOCHS = 12\n","import BigNumber from 'bignumber.js';\n\n/**\n * Convert 10.999 to 10999000\n */\nexport function toBaseUnitBN(rawAmt:string| number| BigNumber, decimals: number):BigNumber {\n  const raw = new BigNumber(rawAmt);\n  const base = new BigNumber(10);\n  const decimalsBN = new BigNumber(decimals);\n  return raw.times(base.pow(decimalsBN)).integerValue();\n}\n\n/**\n * Convert 10999000 to 10.999\n */\nexport const toTokenUnitsBN = (tokenAmount:string|number|BigNumber, tokenDecimals:number): BigNumber => {\n  const amt = new BigNumber(tokenAmount);\n  const digits = new BigNumber(10).pow(new BigNumber(tokenDecimals));\n  return amt.div(digits);\n};\n\nexport const isPos = (amount: BigNumber): boolean => {\n  return !amount.isZero() && amount.isPositive();\n};\n\nexport const ownership = (balance: BigNumber, totalSupply: BigNumber): BigNumber => {\n  return balance.multipliedBy(new BigNumber(100)).dividedBy(totalSupply);\n}\n\n/**\n * BigNumber string formatting\n */\n\nexport const formatBN = (amount: BigNumber, position: number): string => {\n  if (amount.isLessThan(new BigNumber(1))) {\n    return pad(amount.precision(position, BigNumber.ROUND_FLOOR).toFixed(), position);\n\n  }\n  return delineate(amount.toFixed(position, BigNumber.ROUND_FLOOR));\n}\n\nfunction delineate(bnStr) {\n  const parts = bnStr.split('.');\n  return parts[0].toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\") + \".\" + parts[1];\n}\n\nfunction pad(bnStr, position) {\n  if (!bnStr.includes(\".\")) {\n    bnStr += \".\";\n  }\n\n  const parts = bnStr.split(\".\");\n  for (let i = 0; i < position - parts[1].length; i++) {\n    bnStr += \"0\";\n  }\n\n  return bnStr\n}\n\nexport function formatMoney(n) {\n  n = n.toPrecision(3)\n  return Math.abs(Number(n)) >= 1.0e+9\n    ? Math.abs(Number(n)) / 1.0e+9 + \"B\"\n    : Math.abs(Number(n)) >= 1.0e+6\n      ? Math.abs(Number(n)) / 1.0e+6 + \"MM\"\n      : Math.abs(Number(n)) >= 1.0e+3\n        ? Math.abs(Number(n)) / 1.0e+3 + \"K\"\n        : Math.abs(Number(n));\n}","import { getPool } from \"./infura\";\nimport { ESDS } from \"../constants/tokens\";\nimport {DollarPool1, DollarPool2, DollarPool3, DollarPool4} from \"../constants/contracts\";\n\nexport async function getPoolAddress(): Promise<string> {\n  const pool = await getPool(ESDS.addr);\n  return pool;\n}\n","import React, {useEffect, useState} from 'react';\nimport BigNumber from \"bignumber.js\";\nimport {\n  getBalanceBonded,\n  getBalanceOfStaged,\n  getPoolBalanceOfBonded, getPoolBalanceOfClaimable, getPoolBalanceOfRewarded, getPoolBalanceOfStaged,\n  getTokenBalance,\n  getTokenTotalSupply\n} from \"../../utils/infura\";\nimport {ESD, ESDS, UNI} from \"../../constants/tokens\";\nimport {formatBN, toTokenUnitsBN} from \"../../utils/number\";\nimport {getPoolAddress} from \"../../utils/pool\";\n\ntype TotalBalanceProps = {\n  user: string,\n}\n\nfunction TotalBalance({ user }: TotalBalanceProps) {\n  const [totalBalance, setTotalBalance] = useState(new BigNumber(0));\n\n  //Update User balances\n  useEffect(() => {\n    if (user === '') {\n      setTotalBalance(new BigNumber(0));\n      return;\n    }\n    let isCancelled = false;\n\n    async function updateUserInfo() {\n      const poolAddress = await getPoolAddress();\n\n      const [\n        esdBalance, stagedBalance, bondedBalance,\n        pairBalanceESDStr, pairTotalSupplyUNIStr, userUNIBalanceStr,\n        userPoolBondedBalanceStr, userPoolStagedBalanceStr,\n        userPoolRewardedBalanceStr, userPoolClaimableBalanceStr,\n      ] = await Promise.all([\n        getTokenBalance(ESD.addr, user),\n        getBalanceOfStaged(ESDS.addr, user),\n        getBalanceBonded(ESDS.addr, user),\n\n        getTokenBalance(ESD.addr, UNI.addr),\n        getTokenTotalSupply(UNI.addr),\n        getTokenBalance(UNI.addr, user),\n        getPoolBalanceOfBonded(poolAddress, user),\n        getPoolBalanceOfStaged(poolAddress, user),\n        getPoolBalanceOfRewarded(poolAddress, user),\n        getPoolBalanceOfClaimable(poolAddress, user),\n      ]);\n\n      const userBalance = toTokenUnitsBN(new BigNumber(esdBalance), ESD.decimals);\n      const userStagedBalance = toTokenUnitsBN(new BigNumber(stagedBalance), ESDS.decimals);\n      const userBondedBalance = toTokenUnitsBN(new BigNumber(bondedBalance), ESDS.decimals);\n\n      const userUNIBalance = toTokenUnitsBN(new BigNumber(userUNIBalanceStr), ESDS.decimals);\n      const userPoolBondedBalance = toTokenUnitsBN(new BigNumber(userPoolBondedBalanceStr), ESDS.decimals);\n      const userPoolStagedBalance = toTokenUnitsBN(new BigNumber(userPoolStagedBalanceStr), ESDS.decimals);\n      const userPoolRewardedBalance = toTokenUnitsBN(new BigNumber(userPoolRewardedBalanceStr), ESDS.decimals);\n      const userPoolClaimableBalance = toTokenUnitsBN(new BigNumber(userPoolClaimableBalanceStr), ESDS.decimals);\n      //console.log('pairTotalSupplyUNIStr', pairTotalSupplyUNIStr);\n      //console.log('pairBalanceESDStr', pairBalanceESDStr);\n      const UNItoESD = new BigNumber(pairBalanceESDStr).dividedBy(new BigNumber(pairTotalSupplyUNIStr));\n      //console.log('UNItoESD', UNItoESD);\n      const daoTotalBalance = userStagedBalance.plus(userBondedBalance);\n      const poolTotalBalance = UNItoESD.multipliedBy(userPoolStagedBalance.plus(userPoolBondedBalance))\n        .plus(userPoolRewardedBalance.plus(userPoolClaimableBalance));\n      const circulationBalance = UNItoESD.multipliedBy(userUNIBalance).plus(userBalance)\n      const totalBalance = daoTotalBalance.plus(poolTotalBalance).plus(circulationBalance)\n\n      if (!isCancelled) {\n        setTotalBalance(totalBalance);\n      }\n    }\n\n    updateUserInfo();\n    const id = setInterval(updateUserInfo, 15000);\n\n    // eslint-disable-next-line consistent-return\n    return () => {\n      isCancelled = true;\n      clearInterval(id);\n    };\n  }, [user]);\n\n  return (\n    <div style={{ fontSize: 14, padding: 3, fontWeight: 400, lineHeight: 1.5, fontFamily: 'aragon-ui-monospace, monospace'}}>\n       {formatBN(totalBalance, 2)}\n    </div>\n  );\n}\n\n\nexport default TotalBalance;\n","import React, { useEffect } from 'react';\nimport { Modal, Button, Header } from '@aragon/ui';\nimport { useWallet } from 'use-wallet';\n\ntype ConnectModalProps = {\n  visible: boolean,\n  onClose: Function,\n  onConnect: Function\n};\n\nfunction ConnectModal({\n  visible, onClose, onConnect\n}:ConnectModalProps) {\n  const wallet = useWallet();\n\n  const connectMetamask = () => {\n    wallet.connect(\"injected\");\n  };\n\n  const connectWalletConnect = () => {\n    wallet.connect(\"walletconnect\");\n  };\n\n  const connectCoinbase = () => {\n    wallet.connect(\"walletlink\");\n  };\n\n  useEffect(() => {\n    if (wallet.account) {\n      onConnect && onConnect(wallet);\n      onClose && onClose();\n    }\n  }, [wallet, onConnect, onClose]);\n\n  return (\n    <Modal visible={visible} onClose={onClose}>\n      <Header primary=\"Select a wallet provider\" />\n\n      <div style={{width: '50%', margin: 'auto', padding: '1%'}}>\n        <Button\n          wide\n          label={'Metamask'}\n          icon={<img src={`./wallets/metamask-fox.svg`} style={{ height: 24 }} alt=\"Metamask\"/>}\n          onClick={connectMetamask}\n        />\n      </div>\n      <div style={{width: '50%', margin: 'auto', padding: '1%'}}>\n        <Button\n          wide\n          label={'WalletConnect'}\n          icon={<img src={`./wallets/wallet-connect.svg`} style={{ height: 24 }} alt=\"WalletConnect\"/>}\n          onClick={connectWalletConnect}\n        />\n      </div>\n      <div style={{width: '50%', margin: 'auto', padding: '1%'}}>\n        <Button\n          wide\n          label={'Coinbase Wallet'}\n          icon={<img src={`./wallets/coinbase-wallet.png`} style={{ height: 24 }} alt=\"Coinbase Wallet\"/>}\n          onClick={connectCoinbase}\n        />\n      </div>\n    </Modal>\n  );\n}\n\nexport default ConnectModal;\n","import React, { useState } from 'react';\nimport { useWallet } from 'use-wallet';\n\nimport {\n  Button, IdentityBadge, IconConnect, Box, IconPower, LinkBase,\n} from '@aragon/ui';\n\nimport { connect } from '../../utils/web3';\nimport TotalBalance from \"./TotalBalance\";\nimport ConnectModal from './ConnectModal';\n\ntype connectButtonProps = {\n  hasWeb3: boolean,\n  user: string,\n  setUser: Function\n}\n\nfunction ConnectButton({ hasWeb3, user, setUser }: connectButtonProps) {\n  const { status, reset } = useWallet();\n\n  const [isModalOpen, setModalOpen] = useState(false);\n\n  const connectWeb3 = async (wallet) => {\n    connect(wallet.ethereum);\n    setUser(wallet.account);\n  };\n\n  const disconnectWeb3 = async () => {\n    setUser('');\n    reset();\n  };\n\n  const toggleModal = () => setModalOpen(!isModalOpen);\n\n  return status === 'connected' ? (\n    <div style={{display: 'flex'}}>\n      <div style={{flex: '1'}}/>\n      <div>\n        <Box padding={4} style={{width: '192px'}}>\n          <div style={{display: 'flex'}}>\n            <div>\n              <LinkBase onClick={disconnectWeb3} style={{marginRight: '8px', height: '24px'}}>\n                <IconPower />\n              </LinkBase>\n            </div>\n            <div style={{flex: '1', textAlign: 'right'}}>\n              <IdentityBadge entity={user} />\n            </div>\n          </div>\n          <div style={{display: 'flex'}}>\n            <div style={{flex: '1', textAlign: 'right'}}>\n              <TotalBalance user={user} />\n            </div>\n          </div>\n        </Box>\n      </div>\n    </div>\n  ) : (\n    <>\n      <ConnectModal visible={isModalOpen} onClose={toggleModal} onConnect={connectWeb3}/>\n      <Button icon={<IconConnect />} label=\"Connect\" onClick={toggleModal} disabled={!hasWeb3}/>\n    </>\n  );\n}\n\n\nexport default ConnectButton;\n","import React, { useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\n\nimport { LinkBase, useTheme } from '@aragon/ui';\nimport ConnectButton from './ConnectButton';\n\ntype NavbarProps = {\n  hasWeb3: boolean,\n  user: string,\n  setUser: Function\n}\n\nfunction NavBar({\n  hasWeb3, user, setUser,\n}:NavbarProps) {\n  const history = useHistory();\n  const currentTheme = useTheme();\n\n  const [page, setPage] = useState(\"\");\n\n  useEffect(() => {\n    return history.listen((location) => {\n      setPage(location.pathname)\n    })\n  }, [hasWeb3, user, history]);\n\n  const logoUrl = `./logo/logo_${currentTheme._name === 'light' ? 'black' : 'white'}.png`\n\n  return (\n    <>\n      <div style={{\n        borderTop: '1px solid ' + currentTheme.border,\n        backgroundColor: 'none',\n        textAlign: 'center',\n        height: '128px',\n        width: '100%',\n        fontSize: '14px'\n      }}>\n        <div style={{maxWidth: '1100px', marginLeft: 'auto', marginRight: 'auto'}}>\n          <div style={{ display: 'flex', paddingTop: '24px'}}>\n            <div style={{ width: '10%', textAlign: 'left'}}>\n              <LinkBase onClick={() => history.push('/')} style={{marginRight: '16px', height: '40px'}}>\n                <img src={logoUrl} height=\"40px\" alt=\"${process.env.TITLE}\"/>\n              </LinkBase>\n            </div>\n            <div style={{ width: '70%', textAlign: 'center' }}>\n              <LinkButton title=\"DAO\" onClick={() => history.push('/dao/')} isSelected={page.includes('/dao')}/>\n              <LinkButton title=\"Liquidity\" onClick={() => history.push('/pool/')} isSelected={page.includes('/pool')}/>\n              <LinkButton title=\"Regulation\" onClick={() => history.push('/regulation/')} isSelected={page.includes('/regulation')}/>\n              <LinkButton title=\"Governance\" onClick={() => history.push('/governance/')} isSelected={page.includes('/governance')}/>\n              <LinkButton title=\"Trade\" onClick={() => history.push('/trade/')} isSelected={page.includes('/trade')}/>\n              <LinkButton title=\"Coupons\" onClick={() => history.push('/coupons/')} isSelected={page.includes('/coupons')}/>\n              <LinkButton title=\"Buy\" onClick={() => window.open('https://exchange.pancakeswap.finance/#/swap?outputCurrency=0x69eb9dda7776dfa2fef16b61d0ada70f4bc1a3ca')} />\n            </div>\n            <div style={{ width: '20%', textAlign: 'right'}}>\n              <ConnectButton hasWeb3={hasWeb3} user={user} setUser={setUser} />\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n\n\ntype linkButtonProps = {\n  title:string,\n  onClick: Function,\n  isSelected?:boolean\n}\n\nfunction LinkButton({ title, onClick, isSelected = false }:linkButtonProps) {\n  return (\n      <LinkBase onClick={onClick} style={{marginLeft: '8px', marginRight: '8px', height: '40px'}}>\n        <div style={{ padding: '1%', opacity: isSelected ? 1 : 0.5, fontSize: 17 }}>{title}</div>\n      </LinkBase>\n  );\n}\n\nexport default NavBar;\n","import React from 'react';\n\ntype EpochBlockProps = {\n  epoch: string\n}\n\nfunction EpochBlock({ epoch }: EpochBlockProps) {\n  return (\n    <>\n      <div style={{ fontSize: 16, padding: 3 }}>Epoch</div>\n      <div style={{ fontSize: 24, padding: 3, fontWeight: 400, lineHeight: 1.5, fontFamily: 'aragon-ui-monospace, monospace'}}>{epoch}</div>\n    </>\n  );\n}\n\nexport default EpochBlock;\n","import React, {useEffect, useState} from 'react';\nimport { useHistory } from 'react-router-dom';\nimport {\n  Box, LinkBase, Tag,\n} from '@aragon/ui';\nimport EpochBlock from \"../common/EpochBlock\";\n\nfunction epochformatted() {\n  const epochStart = 1610501086;\n  const epochPeriod = 60 * 60;\n  const hour = 60 * 60;\n  const minute = 60;\n  const unixTimeSec = Math.floor(Date.now() / 1000);\n\n  let epochRemainder = unixTimeSec - epochStart\n  const epoch = Math.floor(epochRemainder / epochPeriod);\n  epochRemainder -= epoch * epochPeriod;\n  const epochHour = Math.floor(epochRemainder / hour);\n  epochRemainder -= epochHour * hour;\n  const epochMinute = Math.floor(epochRemainder / minute);\n  epochRemainder -= epochMinute * minute;\n  return ` {${epoch}}-0${epochHour}:${epochMinute > 9 ? epochMinute : \"0\" + epochMinute.toString()}:${epochRemainder > 9 ? epochRemainder : \"0\" + epochRemainder.toString()}`;\n}\n\ntype HomePageProps = {\n  user: string\n};\n\nfunction HomePage({user}: HomePageProps) {\n  const history = useHistory();\n\n  const [epochTime, setEpochTime] = useState(\"0-00:00:00\");\n\n  useEffect(() => {\n    let isCancelled = false;\n\n    async function updateUserInfo() {\n      if (!isCancelled) {\n        setEpochTime(epochformatted())\n      }\n    }\n    updateUserInfo();\n    const id = setInterval(updateUserInfo, 1000);\n\n    // eslint-disable-next-line consistent-return\n    return () => {\n      isCancelled = true;\n      clearInterval(id);\n    };\n  }, [user]);\n\n  return (\n    <>\n      <div style={{ padding: '1%', display: 'flex', flexWrap: 'wrap', alignItems: 'center' }}>\n        <div style={{ flexBasis: '68%' }} />\n        <div style={{ flexBasis: '30%', flexGrow: 1, marginRight: '2%', textAlign: 'right'}}>\n          <Box>\n            <EpochBlock epoch={epochTime}/>\n          </Box>\n        </div>\n      </div>\n      <div style={{ padding: '1%', display: 'flex', flexWrap: 'wrap', alignItems: 'center' }}>\n        <div style={{ flexBasis: '30%', marginRight: '3%', marginLeft: '2%'  }}>\n          <MainButton\n            title=\"DAO\"\n            description=\"Earn rewards for governing\"\n            icon={<i className=\"fas fa-dot-circle\"/>}\n            onClick={() => {\n              history.push('/dao/');\n            }}\n          />\n        </div>\n\n        <div style={{ flexBasis: '30%' }}>\n          <MainButton\n            title=\"LP Rewards\"\n            description=\"Earn rewards for providing liquidity.\"\n            icon={<i className=\"fas fa-parachute-box\"/>}\n            onClick={() => {\n              history.push('/pool/');\n            }}\n          />\n        </div>\n\n        <div style={{ flexBasis: '30%', marginLeft: '3%', marginRight: '2%' }}>\n          <MainButton\n            title=\"Regulation\"\n            description=\"Network supply regulation statistics.\"\n            icon={<i className=\"fas fa-chart-area\"/>}\n            onClick={() => {\n              history.push('/regulation/');\n            }}\n          />\n        </div>\n      </div>\n      <div style={{ padding: '1%', display: 'flex', flexWrap: 'wrap', alignItems: 'center' }}>\n        <div style={{ flexBasis: '30%', marginRight: '3%', marginLeft: '2%' }}>\n          <MainButton\n            title=\"Governance\"\n            description=\"Vote on upgrades.\"\n            icon={<i className=\"fas fa-poll\"/>}\n            onClick={() => {\n              history.push('/governance/');\n            }}\n          />\n        </div>\n\n        <div style={{ flexBasis: '30%' }}>\n          <MainButton\n            title=\"Trade\"\n            description=\"Trade sd tokens.\"\n            icon={<i className=\"fas fa-exchange-alt\"/>}\n            onClick={() => {\n              history.push('/trade/');\n            }}\n          />\n        </div>\n\n        <div style={{ flexBasis: '30%', marginLeft: '3%', marginRight: '2%'  }}>\n          <MainButton\n            title=\"Coupons\"\n            description=\"Purchase and redeem coupons.\"\n            icon={<i className=\"fas fa-ticket-alt\"/>}\n            onClick={() => {\n              history.push('/coupons/');\n            }}\n          />\n        </div>\n      </div>\n    </>\n  );\n}\n\ntype MainButtonPropx = {\n  title: string,\n  description: string,\n  icon: any,\n  onClick: Function,\n  tag?:string\n}\n\nfunction MainButton({\n  title, description, icon, onClick, tag,\n}:MainButtonPropx) {\n  return (\n    <LinkBase onClick={onClick} style={{ width: '100%' }}>\n      <Box>\n        <div style={{ padding: 10, fontSize: 18 }}>\n          {title}\n          {tag ? <Tag>{tag}</Tag> : <></>}\n        </div>\n        <span style={{ fontSize: 48 }}>\n          {icon}\n        </span>\n        {/*<img alt=\"icon\" style={{ padding: 10, height: 64 }} src={iconUrl} />*/}\n        <div style={{ paddingTop: 5, opacity: 0.5 }}>\n          {' '}\n          {description}\n          {' '}\n        </div>\n\n      </Box>\n    </LinkBase>\n  );\n}\n\nexport default HomePage;\n","import React from 'react';\nimport { IdentityBadge } from '@aragon/ui';\n\ntype AddressBlockProps = {\n  label:string,\n  address: string\n}\n\nfunction AddressBlock({ label, address }: AddressBlockProps) {\n  return (\n    <>\n      <div style={{ fontSize: 16, padding: 3 }}>{label}</div>\n      <div style={{ padding: 5 }}>\n        <IdentityBadge entity={address} shorten />\n      </div>\n    </>\n  );\n}\n\nexport default AddressBlock;\n","import React from 'react';\n\nimport BigNumber from 'bignumber.js';\nimport {formatBN} from \"../../utils/number\";\n\ntype BlanceBlockProps = {\n  asset: string,\n  balance: BigNumber | string | number\n  suffix?: string\n}\n\nfunction BalanceBlock({ asset, balance, suffix=\"\"}: BlanceBlockProps) {\n  let integer = '0';\n  let digits = '0';\n  const balanceBN = new BigNumber(balance);\n  if (balanceBN.gte(new BigNumber(0))) {\n    const tokens = formatBN(balanceBN, 2).split('.')\n    integer = tokens[0];\n    digits = tokens[1];\n  }\n  return (\n    <>\n      <div style={{ fontSize: 14, padding: 3 }}>{asset}</div>\n      <div style={{ padding: 3, color: integer!='0' ? \"#006E2E\" : \"#cccccc\", fontWeight: \"bold\" }}>\n        <span style={{ fontSize: 24 }}>{integer}</span>\n        .\n        <span style={{ fontSize: 16 }}>\n          {' '}\n          {digits}\n          {' '}\n        </span>\n        {suffix === \"\" ? '' : <span style={{ fontSize: 18 }}>{suffix}</span> }\n      </div>\n    </>\n  );\n}\n\nexport default BalanceBlock;\n","import React from 'react';\n\nimport {\n  ButtonBase,\n} from '@aragon/ui';\n\nfunction MaxButton({ onClick }:{ onClick: Function }) {\n  return (\n    <div style={{ padding: 3 }}>\n      <ButtonBase onClick={onClick}>\n        <span style={{ opacity: 0.5 }}> Max </span>\n      </ButtonBase>\n    </div>\n  );\n}\n\nexport default MaxButton;\n","import React from 'react';\nimport BigNumber from 'bignumber.js';\n\nfunction PriceSection({\n  label, amt, symbol = '', forceDisplay = false,\n}:{label:string, amt: string|number|BigNumber, symbol?:string, forceDisplay?:boolean }) {\n  const amtBN = new BigNumber(amt);\n  if (amtBN.gt(new BigNumber(0)) || forceDisplay) {\n    return (\n      <div style={{ padding: 3, opacity: 0.5 }}>\n        <span style={{ fontSize: 13 }}>{label}</span>\n        <span style={{ fontSize: 13 }}>{amtBN.toNumber().toFixed(5)}</span>\n        <span style={{ fontSize: 13 }}>{symbol}</span>\n      </div>\n    );\n  }\n  return <div style={{ padding: 3, opacity: 0.5 }} />;\n}\n\n\nexport default PriceSection;\n","import React, { ReactChild } from 'react';\n\ntype commentProps = {\n  text: string | ReactChild\n}\n\nfunction Comment({ text }: commentProps) {\n  return (\n    <div style={{ padding: 5, opacity: 0.5 }}>\n      {text}\n    </div>\n  );\n}\n\nexport default Comment;\n","import styled from 'styled-components';\n\nconst FlexWrapper = styled.div`\n  // display: flex;\n  padding-left: 20%;\n  padding-right: 20%;\n`;\n\nexport default FlexWrapper;\n","import React from 'react';\nimport { Checkbox, useTheme } from '@aragon/ui';\nimport styled from 'styled-components';\n\ntype checkBoxProps = {\n  text: string,\n  checked: boolean,\n  onCheck: Function\n}\n\nfunction MyCheckBox({ text, checked, onCheck }: checkBoxProps) {\n  const theme = useTheme();\n  return (\n    <CheckBoxWrapper theme={theme}>\n      <Checkbox\n        checked={checked}\n        onChange={onCheck}\n      />\n      <span style={{ margin: '4px' }}>\n        {text}\n      </span>\n      <br />\n    </CheckBoxWrapper>\n  );\n}\n\nexport default MyCheckBox;\n\nconst CheckBoxWrapper = styled.div`{\n  display: flex;\n  font-size: 14px;\n  color: ${(props) => props.theme.surfaceContentSecondary}\n}`;","import React from 'react';\nimport BigNumber from 'bignumber.js';\n\nimport { BalanceBlock, AddressBlock } from '../common/index';\n\ntype TradePageHeaderProps = {\n  pairBalanceESD: BigNumber,\n  pairBalanceUSDC: BigNumber,\n  uniswapPair: string,\n};\n\nconst TradePageHeader = ({\n  pairBalanceESD, pairBalanceUSDC, uniswapPair,\n}: TradePageHeaderProps) => {\n  const price = pairBalanceUSDC.dividedBy(pairBalanceESD);\n\n  return (\n    <div style={{ padding: '2%', display: 'flex', flexWrap: 'wrap', alignItems: 'center' }}>\n      <div style={{ flexBasis: '25%' }}>\n        <BalanceBlock asset=\"SD Price\" balance={price} suffix={\"BUSD\"}/>\n      </div>\n      <div style={{ flexBasis: '25%' }}>\n        <BalanceBlock asset=\"SD Liquidity\" balance={pairBalanceESD} suffix={\"SD\"}/>\n      </div>\n      <div style={{ flexBasis: '25%' }}>\n        <BalanceBlock asset=\"BUSD Liquidity\" balance={pairBalanceUSDC} suffix={\"BUSD\"}/>\n      </div>\n      <div style={{ flexBasis: '25%' }}>\n        <>\n          <AddressBlock label=\"Pancake Contract\" address={uniswapPair} />\n        </>\n      </div>\n    </div>\n  );\n}\n\n\nexport default TradePageHeader;\n","import React from 'react';\n\nimport {\n  Header,\n} from '@aragon/ui';\n\ntype IconHeaderProps = {\n  icon: any,\n  text: string\n}\n\nfunction IconHeader({ icon, text }: IconHeaderProps) {\n  return (\n    <>\n      <div style={{ padding: '1%', display: 'flex', alignItems: 'center' }}>\n        <div style={{ marginRight: '2%', fontSize: 24 }}>\n          {icon}\n        </div>\n        <div>\n          <Header primary={text} />\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default IconHeader;\n","import React, { useState, useEffect } from 'react';\nimport { LinkBase, Box } from '@aragon/ui';\n\nimport BigNumber from 'bignumber.js';\nimport { getTokenBalance } from '../../utils/infura';\nimport { toTokenUnitsBN } from '../../utils/number';\n\nimport TradePageHeader from './Header';\nimport {ESD, UNI, USDC} from \"../../constants/tokens\";\nimport IconHeader from \"../common/IconHeader\";\n\n\nfunction UniswapPool({ user }: {user: string}) {\n  const [pairBalanceESD, setPairBalanceESD] = useState(new BigNumber(0));\n  const [pairBalanceUSDC, setPairBalanceUSDC] = useState(new BigNumber(0));\n\n  useEffect(() => {\n    let isCancelled = false;\n\n    async function updateUserInfo() {\n      const [\n        pairBalanceESDStr, pairBalanceUSDCStr,\n      ] = await Promise.all([\n        getTokenBalance(ESD.addr, UNI.addr),\n        getTokenBalance(USDC.addr, UNI.addr),\n      ]);\n\n      if (!isCancelled) {\n        setPairBalanceESD(toTokenUnitsBN(pairBalanceESDStr, ESD.decimals));\n        setPairBalanceUSDC(toTokenUnitsBN(pairBalanceUSDCStr, USDC.decimals));\n      }\n    }\n\n    updateUserInfo();\n    const id = setInterval(updateUserInfo, 15000);\n\n    // eslint-disable-next-line consistent-return\n    return () => {\n      isCancelled = true;\n      clearInterval(id);\n    };\n  }, [user]);\n\n  return (\n    <>\n      <IconHeader icon={<i className=\"fas fa-exchange-alt\"/>} text=\"Trade\"/>\n\n      <TradePageHeader\n        pairBalanceESD={pairBalanceESD}\n        pairBalanceUSDC={pairBalanceUSDC}\n        uniswapPair={UNI.addr}\n      />\n\n      <div style={{ padding: '1%', display: 'flex', flexWrap: 'wrap', alignItems: 'center' }}>\n        <div style={{ flexBasis: '30%', marginRight: '3%', marginLeft: '2%'  }}>\n          <MainButton\n            title=\"Info\"\n            description=\"View SD-BUSD pool stats.\"\n            icon={<i className=\"fas fa-chart-area\"/>}\n            href={\"https://pancakeswap.info/pair/0x688457933ac7570b31eca4390573945f8931ce4c\"}\n          />\n        </div>\n\n        <div style={{ flexBasis: '30%' }}>\n          <MainButton\n            title=\"Trade\"\n            description=\"Trade ssd tokens.\"\n            icon={<i className=\"fas fa-exchange-alt\"/>}\n            href={\"https://exchange.pancakeswap.finance/#/swap?inputCurrency=0x69eb9dda7776dfa2fef16b61d0ada70f4bc1a3ca&outputCurrency=0xe9e7cea3dedca5984780bafc599bd69add087d56\"}\n          />\n        </div>\n\n        <div style={{ flexBasis: '30%', marginLeft: '3%', marginRight: '2%' }}>\n          <MainButton\n            title=\"Supply\"\n            description=\"Supply and redeem liquidity.\"\n            icon={<i className=\"fas fa-water\"/>}\n            href={\"https://exchange.pancakeswap.finance/#/add/0x69eb9dda7776dfa2fef16b61d0ada70f4bc1a3ca/0xe9e7cea3dedca5984780bafc599bd69add087d56\"}\n          />\n        </div>\n      </div>\n    </>\n  );\n}\n\ntype MainButtonProps = {\n  title: string,\n  description: string,\n  icon: any,\n  href:string\n}\n\nfunction MainButton({\n  title, description, icon, href,\n}:MainButtonProps) {\n  return (\n    <LinkBase href={href} style={{ width: '100%' }}>\n      <Box>\n        <div style={{ padding: 10, fontSize: 18 }}>\n          {title}\n        </div>\n        <span style={{ fontSize: 48 }}>\n          {icon}\n        </span>\n        {/*<img alt=\"icon\" style={{ padding: 10, height: 64 }} src={iconUrl} />*/}\n        <div style={{ paddingTop: 5, opacity: 0.5 }}>\n          {' '}\n          {description}\n          {' '}\n        </div>\n\n      </Box>\n    </LinkBase>\n  );\n}\n\nexport default UniswapPool;\n","import React from 'react';\nimport { Button, IconStarFilled, IconStar } from '@aragon/ui';\n\ntype switchThemeProps = {\n  hasWeb3: boolean,\n  theme: string,\n  updateTheme: Function\n}\n\nfunction SwitchMode({ hasWeb3, theme, updateTheme }: switchThemeProps) {\n  const handleChangeTheme = () => {\n    if (theme === 'light') updateTheme('dark');\n    else updateTheme('light');\n  };\n\n  return (\n    <Button\n      icon={theme === 'dark' ? <IconStar /> : <IconStarFilled />}\n      onClick={handleChangeTheme}\n      label=\"\"\n      disabled={!hasWeb3}\n    />\n  );\n}\n\n\nexport default SwitchMode;\n","import React from 'react';\nimport { LinkBase, useTheme } from '@aragon/ui';\nimport ChangeModeButton from \"./SwitchTheme\";\n\ntype FooterProps = {\n  updateTheme: Function,\n  theme: string,\n  hasWeb3: boolean,\n}\n\nfunction Footer({updateTheme, theme, hasWeb3}: FooterProps) {\n  const currentTheme = useTheme();\n\n  return (\n    <>\n      <div style={{\n        borderTop: '1px solid ' + currentTheme.border,\n        backgroundColor: currentTheme.surface,\n        textAlign: 'center',\n        position: 'fixed',\n        left: '0',\n        bottom: '0',\n        height: 'auto',\n        width: '100%',\n        fontSize: '14px'\n      }}>\n        <div style={{maxWidth: '1100px', marginLeft: 'auto', marginRight: 'auto'}}>\n          <div style={{ padding: '2%', display: 'flex'}}>\n            <div style={{ width: '50%', textAlign: 'left' }}>\n              <FooterLink icon={<i className=\"fab fa-github\"/>} href={\"https://github.com/smartdollar/protocol\"}/>\n              <FooterLink icon={<i className=\"fab fa-twitter\"/>} href={\"https://twitter.com/ssdprotocol\"}/>\n              <FooterLink icon={<i className=\"fab fa-medium\"/>} href={\"https://smartdollar.medium.com/\"}/>\n              <FooterLink icon={<i className=\"fab fa-telegram\"/>} href={\"https://t.me/ssdprotocol\"}/>\n            </div>\n            <div style={{ width: '45%', textAlign: 'right', height: '18px', marginTop: '15px', marginBottom: '15px'}}>\n              made with <span role=\"img\" aria-labelledby=\"heartbreak\"></span> by the &#123;<a href=\"https://twitter.com/ssdprotocol\">ssdprotocol</a>&#125;.\n            </div>\n            <div style={{ width: '5%', textAlign: 'right', marginTop: '4px' }}>\n              <ChangeModeButton hasWeb3={hasWeb3} theme={theme} updateTheme={updateTheme} />\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n\ntype FooterLinkProp = {\n  icon: any,\n  href: string,\n}\n\nfunction FooterLink({\n  icon, href,\n}:FooterLinkProp) {\n  return (\n    <LinkBase href={href} style={{marginLeft: '8px', marginRight: '8px'}}>\n      <span style={{ fontSize: 32 }}>{icon}</span>\n    </LinkBase>\n  );\n}\n\nexport default Footer;\n","import React from 'react';\n\ntype TextBlockProps = {\n  label: string,\n  text: string\n}\n\nfunction TextBlock({ label, text }: TextBlockProps) {\n  return (\n    <>\n      <div style={{ fontSize: 16, padding: 3 }}>{label}</div>\n      <div style={{ fontSize: 24, padding: 3 }}>{text}</div>\n    </>\n  );\n}\n\nexport default TextBlock;\n","import React from 'react';\nimport BigNumber from 'bignumber.js';\nimport {Button} from '@aragon/ui';\nimport { BalanceBlock } from '../common/index';\nimport TextBlock from \"../common/TextBlock\";\nimport {ownership} from \"../../utils/number\";\nimport {BUY} from \"../../constants/contracts\";\n\ntype AccountPageHeaderProps = {\n  accountESDBalance: BigNumber,\n  accountESDSBalance: BigNumber,\n  totalESDSSupply: BigNumber,\n  accountStagedBalance: BigNumber,\n  accountBondedBalance: BigNumber,\n  accountStatus: number,\n  unlocked: number,\n  fluidEpoch: any,\n  user: string\n};\n\nconst STATUS_MAP = [\"Unlocked\", \"Locked\", \"Locked\"];\n\nfunction status(accountStatus, unlocked) {\n    return STATUS_MAP[accountStatus]\n}\n\nconst AccountPageHeader = ({\n  accountESDBalance, accountESDSBalance, totalESDSSupply, accountStagedBalance, accountBondedBalance, accountStatus, unlocked, fluidEpoch, user\n}: AccountPageHeaderProps) => (\n  <div style={{ padding: '2%', display: 'flex', flexWrap: 'wrap', alignItems: 'center' }}>\n    <div style={{ flexBasis: '20%' }}>\n      <BalanceBlock asset=\"Balance\" balance={accountESDBalance} suffix={\" SD\"}/>\n        <Button\n            label=\"Buy SD\"\n            icon={<i className=\"fas fa-exchange-alt\"/>}\n            onClick={() => window.open(BUY, \"_blank\")}\n        />\n    </div>\n    <div style={{ flexBasis: '20%' }}>\n      <BalanceBlock asset=\"Staged\" balance={accountStagedBalance}  suffix={\" SD\"}/>\n    </div>\n    <div style={{ flexBasis: '20%' }}>\n      <BalanceBlock asset=\"Bonded\" balance={accountBondedBalance} suffix={\" SD\"} />\n    </div>\n    <div style={{ flexBasis: '20%' }}>\n      <BalanceBlock asset=\"DAO Ownership\" balance={ownership(accountESDSBalance, totalESDSSupply)}  suffix={\"%\"}/>\n    </div>\n    <div style={{ flexBasis: '20%' }}>\n      <TextBlock label=\"Status\" text={status(accountStatus, unlocked)}/>\n    </div>\n  </div>\n);\n\n\nexport default AccountPageHeader;\n","/* eslint-disable camelcase */\n// eslint-disable-next-line import/prefer-default-export\nexport const UniswapV2Router02 = '0xBCfCcbde45cE874adCB698cC183deBcF17952812';\nexport const DollarPool1 = '0x75A931E9d42d79309a27b715AB7A48e07391709b';\nexport const DollarPool2 = '0x75A931E9d42d79309a27b715AB7A48e07391709b';\n\nexport const DollarPool3 = '0x75A931E9d42d79309a27b715AB7A48e07391709b'; // Pool\nexport const DollarPool4 = '0x9ba9776ca8922ab737d7da001389cbf25f49e63c';  // Pool\nexport const BUY = 'https://exchange.pancakeswap.finance/#/swap?inputCurrency=0x69eb9dda7776dfa2fef16b61d0ada70f4bc1a3ca&outputCurrency=0xe9e7cea3dedca5984780bafc599bd69add087d56';","import React from 'react';\n\nimport BigNumber from 'bignumber.js';\nimport {\n  TextInput,\n} from '@aragon/ui';\n\ntype BigNumberInputProps = {\n  value: BigNumber,\n  setter: (value: BigNumber) => void\n  adornment?: any,\n  disabled?: boolean\n}\n\nfunction BigNumberInput({ value, setter, adornment, disabled=false }: BigNumberInputProps) {\n  return (\n    <>\n      <TextInput\n        type=\"number\"\n        adornmentPosition=\"end\"\n        adornment={adornment}\n        wide\n        value={value.isNegative() ? '' : value.toFixed()}\n        onChange={(event) => {\n          if (event.target.value) {\n            setter(new BigNumber(event.target.value));\n          } else {\n            setter(new BigNumber(-1));\n          }\n        }}\n        onBlur={() => {\n          if (value.isNegative()) {\n            setter(new BigNumber(0))\n          }\n        }}\n        disabled={disabled}\n      />\n    </>\n  );\n}\n\nexport default BigNumberInput;\n","import React, { useState } from 'react';\nimport {\n  Box, Button, IconCirclePlus, IconWallet, IconCircleMinus, IconLock\n} from '@aragon/ui';\nimport BigNumber from 'bignumber.js';\nimport {\n  BalanceBlock, MaxButton,\n} from '../common/index';\nimport {approve, deposit, withdraw} from '../../utils/web3';\nimport {isPos, toBaseUnitBN} from '../../utils/number';\nimport {ESD, ESDS} from \"../../constants/tokens\";\nimport {MAX_UINT256} from \"../../constants/values\";\nimport BigNumberInput from \"../common/BigNumberInput\";\n\ntype WithdrawDepositProps = {\n  user: string\n  balance: BigNumber,\n  allowance: BigNumber,\n  stagedBalance: BigNumber,\n  status: number\n};\n\nfunction WithdrawDeposit({\n  user, balance, allowance, stagedBalance, status\n}: WithdrawDepositProps) {\n  const [depositAmount, setDepositAmount] = useState(new BigNumber(0));\n  const [withdrawAmount, setWithdrawAmount] = useState(new BigNumber(0));\n\n  return (\n    <Box heading=\"Stage: (staged SD does not receive any rewards or auto-compound.)\">\n      {allowance.comparedTo(MAX_UINT256) === 0 ?\n        <div style={{display: 'flex', flexWrap: 'wrap'}}>\n          {/* total Issued */}\n          <div style={{flexBasis: '30%'}}>\n            <BalanceBlock asset=\"Staged\" balance={stagedBalance} suffix={\"SD\"}/>\n          </div>\n\n          <div style={{flexBasis: '6%', paddingTop: '2%'}}>\n            <div style={{display: 'flex'}}>\n              <Button onClick={() => {\n                window.open('https://exchange.pancakeswap.finance/#/swap?outputCurrency=0x69eb9dda7776dfa2fef16b61d0ada70f4bc1a3ca');\n              }}\n                  icon={<IconWallet />}\n                  label=\"Buy\"\n              />\n            </div>\n          </div>\n\n\n          {/* Deposit SD into DAO */}\n          <div style={{flexBasis: '25%', paddingTop: '2%'}}>\n            <div style={{display: 'flex'}}>\n              <div style={{width: '60%', minWidth: '6em'}}>\n                <>\n                  <BigNumberInput\n                    adornment=\"SD\"\n                    value={depositAmount}\n                    setter={setDepositAmount}\n                  />\n                  <MaxButton\n                    onClick={() => {\n                      setDepositAmount(balance);\n                    }}\n                  />\n                </>\n              </div>\n              <div style={{width: '30%', minWidth: '6em'}}>\n                <Button\n                  wide\n                  icon={status === 0 ? <IconCirclePlus/> : <IconLock/>}\n                  label=\"Deposit\"\n                  onClick={() => {\n                    deposit(\n                      ESDS.addr,\n                      toBaseUnitBN(depositAmount, ESD.decimals),\n                    );\n                  }}\n                  disabled={status === 1 || !isPos(depositAmount) || depositAmount.isGreaterThan(balance)}\n                />\n              </div>\n            </div>\n          </div>\n          <div style={{flexBasis: '2%'}}/>\n          {/* Withdraw SD from DAO */}\n          <div style={{flexBasis: '33%', paddingTop: '2%'}}>\n            <div style={{display: 'flex'}}>\n              <div style={{width: '60%', minWidth: '7em'}}>\n                <>\n                  <BigNumberInput\n                    adornment=\"SD\"\n                    value={withdrawAmount}\n                    setter={setWithdrawAmount}\n                  />\n                  <MaxButton\n                    onClick={() => {\n                      setWithdrawAmount(stagedBalance);\n                    }}\n                  />\n                </>\n              </div>\n              <div style={{width: '40%', minWidth: '7em'}}>\n                <Button\n                  wide\n                  icon={status === 0 ? <IconCircleMinus/> : <IconLock/>}\n                  label=\"Withdraw\"\n                  onClick={() => {\n                    withdraw(\n                      ESDS.addr,\n                      toBaseUnitBN(withdrawAmount, ESD.decimals),\n                    );\n                  }}\n                  disabled={status === 1 || !isPos(withdrawAmount) || withdrawAmount.isGreaterThan(stagedBalance)}\n                />\n              </div>\n            </div>\n          </div>\n\n          <div style={{display: 'flex'}}>\n              <span style={{ color: '#008000' }}>\n                Dao lockup is 36 epochs/hours.\n                If the Withdraw button is disabled, check your *Status*. The button will be enabled at \"Locked until XX\" + 1 Epoch.\n              </span>\n          </div>\n\n        </div>\n        :\n        <div style={{display: 'flex', flexWrap: 'wrap'}}>\n          {/* total Issued */}\n          <div style={{flexBasis: '32%'}}>\n            <BalanceBlock asset=\"Staged\" balance={stagedBalance} suffix={\"SD\"}/>\n          </div>\n          <div style={{flexBasis: '35%'}}/>\n          {/* Approve DAO to spend SD */}\n          <div style={{flexBasis: '33%', paddingTop: '2%'}}>\n            <Button\n              wide\n              icon={<IconCirclePlus />}\n              label=\"Approve\"\n              onClick={() => {\n                approve(ESD.addr, ESDS.addr);\n              }}\n              disabled={user === ''}\n            />\n          </div>\n        </div>\n      }\n    </Box>\n  );\n}\n\nexport default WithdrawDeposit;\n","import React, { useState } from 'react';\nimport {\n  Box, Button, IconCirclePlus, IconCircleMinus, IconCaution\n} from '@aragon/ui';\nimport BigNumber from 'bignumber.js';\nimport {\n  BalanceBlock, MaxButton,\n} from '../common/index';\nimport { bond, unbondUnderlying } from '../../utils/web3';\nimport {isPos, toBaseUnitBN} from '../../utils/number';\nimport { ESD, ESDS } from \"../../constants/tokens\";\nimport BigNumberInput from \"../common/BigNumberInput\";\nimport TextBlock from \"../common/TextBlock\";\n\ntype BondUnbondProps = {\n  staged: BigNumber,\n  bonded: BigNumber,\n  status: number,\n  lockup: number,\n};\n\nfunction BondUnbond({\n  staged, bonded, status, lockup\n}: BondUnbondProps) {\n  const [bondAmount, setBondAmount] = useState(new BigNumber(0));\n  const [unbondAmount, setUnbondAmount] = useState(new BigNumber(0));\n\n  return (\n    <Box heading=\"Bond (if bonded you earn SD in auto-compound mode while the protocol is in expansion or bootstrapping.)\">\n      <div style={{display: 'flex', flexWrap: 'wrap'}}>\n        {/* Total bonded */}\n        <div style={{flexBasis: '16%'}}>\n          <BalanceBlock asset=\"Bonded\" balance={bonded} suffix={\"SD\"}/>\n        </div>\n        {/* Total bonded */}\n        <div style={{flexBasis: '16%', color: '#ffcc00'}}>\n          <TextBlock label=\"Exit Lockup\" text={lockup === 0 ? \"\" : lockup === 1 ? \"1 epoch\" : `${lockup} epochs`}/>\n        </div>\n        {/* Bond SD within DAO */}\n        <div style={{flexBasis: '33%', paddingTop: '2%'}}>\n          <div style={{display: 'flex'}}>\n            <div style={{width: '60%', minWidth: '6em'}}>\n              <>\n                <BigNumberInput\n                  adornment=\"SD\"\n                  value={bondAmount}\n                  setter={setBondAmount}\n                />\n                <MaxButton\n                  onClick={() => {\n                    setBondAmount(staged);\n                  }}\n                />\n              </>\n            </div>\n            <div style={{width: '40%', minWidth: '7em'}}>\n              <Button\n                wide\n                icon={status === 0 ? <IconCirclePlus/> : <IconCaution/>}\n                label=\"Bond\"\n                onClick={() => {\n                  bond(\n                    ESDS.addr,\n                    toBaseUnitBN(bondAmount, ESD.decimals),\n                  );\n                }}\n                disabled={status === 2 || !isPos(bondAmount) || bondAmount.isGreaterThan(staged)}\n              />\n            </div>\n          </div>\n        </div>\n        <div style={{width: '2%'}}/>\n        {/* Unbond SD within DAO */}\n        <div style={{flexBasis: '33%', paddingTop: '2%'}}>\n          <div style={{display: 'flex'}}>\n            <div style={{width: '60%', minWidth: '6em'}}>\n              <>\n                <BigNumberInput\n                  adornment=\"SD\"\n                  value={unbondAmount}\n                  setter={setUnbondAmount}\n                />\n                <MaxButton\n                  onClick={() => {\n                    setUnbondAmount(bonded);\n                  }}\n                />\n              </>\n            </div>\n            <div style={{width: '40%', minWidth: '7em'}}>\n              <Button\n                wide\n                icon={status === 0 ? <IconCircleMinus/> : <IconCaution/>}\n                label=\"Unbond\"\n                onClick={() => {\n                  unbondUnderlying(\n                    ESDS.addr,\n                    toBaseUnitBN(unbondAmount, ESD.decimals),\n                  );\n                }}\n                disabled={status === 2 || !isPos(unbondAmount) || unbondAmount.isGreaterThan(bonded)}\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n      <div style={{width: '100%', paddingTop: '2%', textAlign: 'center'}}>\n        <span style={{ color: '#008000' }}>\n          Warning: Any bond/unbond activities will restart the lockup timer!\n          If you unbound , you will have to wait for 36 epochs to be able to withdraw.\n        </span>\n      </div>\n    </Box>\n  );\n}\n\nexport default BondUnbond;\n","import React from 'react';\nimport BigNumber from \"bignumber.js\";\nimport {Box} from '@aragon/ui';\nimport styled from 'styled-components'\n\ntype InvestProps = {\n  totalSupply: BigNumber,\n  totalBonded: BigNumber,\n};\n\nconst Invest = ({totalSupply, totalBonded}: InvestProps) => {\n    const supply = totalSupply.toNumber();\n    const bonded = totalBonded.toNumber();\n    const dao = (((((supply * (0.75)) / 100) * 60) / 100 + bonded) / bonded);\n\n  return (\n      <div style={{fontSize: 16, padding: 3}}>\n        <span style={{fontSize: 16, padding: 3}}>APR</span>\n        <span style={{fontSize: 16, padding: 3}}>DAO hourly:\n          <span style={{\n            fontSize: 24,\n            padding: 3,\n            fontWeight: 400,\n            lineHeight: 1.5,\n            fontFamily: 'aragon-ui-monospace, monospace'\n          }}>\n            {((dao - 1) * 100).toFixed(2)}%\n          </span>\n        </span>\n        <span style={{fontSize: 16, padding: 3}}>DAO daily:\n          <span style={{\n            fontSize: 24,\n            padding: 3,\n            fontWeight: 400,\n            lineHeight: 1.5,\n            fontFamily: 'aragon-ui-monospace, monospace'\n          }}>\n            {(((dao - 1) * 24) * 100).toFixed(2)}%\n          </span>\n        </span>\n        <span style={{fontSize: 16, padding: 3}}>DAO yearly:\n          <span style={{\n            fontSize: 24,\n            padding: 3,\n            fontWeight: 400,\n            lineHeight: 1.5,\n            fontFamily: 'aragon-ui-monospace, monospace'\n          }}>\n            {((((dao - 1) * 24)*365) * 100).toFixed(2)}%\n          </span>\n        </span>\n      </div>\n  );\n};\n\nexport default Invest;","import React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { Box } from '@aragon/ui';\nimport BigNumber from 'bignumber.js';\nimport {\n  getBalanceBonded,\n  getBalanceOfStaged, getFluidUntil, getLockedUntil,\n  getStatusOf, getTokenAllowance,\n  getTokenBalance, getTokenTotalSupply,\n  getTotalBonded, loadFluidStatusDao\n} from '../../utils/infura';\nimport {ESD, ESDS} from \"../../constants/tokens\";\nimport {DAO_EXIT_LOCKUP_EPOCHS} from \"../../constants/values\";\nimport {ownership, toTokenUnitsBN} from '../../utils/number';\n\nimport AccountPageHeader from \"./Header\";\nimport WithdrawDeposit from \"./WithdrawDeposit\";\nimport BondUnbond from \"./BondUnbond\";\nimport IconHeader from \"../common/IconHeader\";\nimport {getPoolAddress} from \"../../utils/pool\";\nimport {DollarPool4} from \"../../constants/contracts\";\nimport {BalanceBlock} from \"../common\";\nimport TextBlock from \"../common/TextBlock\";\nimport Invest from \"./Invest\";\n\nfunction Wallet({ user }: {user: string}) {\n  const { override } = useParams();\n  if (override) {\n    user = override;\n  }\n\n  const [userESDBalance, setUserESDBalance] = useState(new BigNumber(0));\n  const [userESDAllowance, setUserESDAllowance] = useState(new BigNumber(0));\n  const [userESDSBalance, setUserESDSBalance] = useState(new BigNumber(0));\n  const [totalESDSSupply, setTotalESDSSupply] = useState(new BigNumber(0));\n  const [userStagedBalance, setUserStagedBalance] = useState(new BigNumber(0));\n  const [userBondedBalance, setUserBondedBalance] = useState(new BigNumber(0));\n  const [userStatus, setUserStatus] = useState(0);\n  const [userStatusUnlocked, setUserStatusUnlocked] = useState(0);\n  const [lockup, setLockup] = useState(0);\n  const [totalSupply, setTotalSupply] = useState(new BigNumber(0));\n  const [totalBonded, setTotalBonded] = useState(new BigNumber(0));\n  const [fluidStatus, setFluidStatus] = useState({\n    lastUnbond: undefined, lastBond: undefined, fluidEpoch: undefined\n  });\n  //Update User balances\n  useEffect(() => {\n\n    let isCancelledApr = false;\n    async function updateAPR() {\n      const [\n        totalSupplyStr,\n        totalBondedStr,\n      ] = await Promise.all([\n        getTokenTotalSupply(ESD.addr),\n        getTotalBonded(ESDS.addr),\n      ]);\n\n      if (!isCancelledApr) {\n        setTotalSupply(toTokenUnitsBN(totalSupplyStr, ESD.decimals));\n        setTotalBonded(toTokenUnitsBN(totalBondedStr, ESD.decimals));\n      }\n    }\n\n    updateAPR();\n\n    if (user === '') {\n      setUserESDBalance(new BigNumber(0));\n      setUserESDAllowance(new BigNumber(0));\n      setUserESDSBalance(new BigNumber(0));\n      setTotalESDSSupply(new BigNumber(0));\n      setUserStagedBalance(new BigNumber(0));\n      setUserBondedBalance(new BigNumber(0));\n      setUserStatus(0);\n      return;\n    }\n    let isCancelled = false;\n\n    async function updateUserInfo() {\n\n      const [\n        esdBalance, esdAllowance, esdsBalance, esdsSupply,\n        stagedBalance, bondedBalance, status, poolAddress,\n        fluidUntilStr, lockedUntilStr, totalSupplyStr,\n        totalBondedStr, fluidStatusStr\n      ] = await Promise.all([\n        getTokenBalance(ESD.addr, user),\n        getTokenAllowance(ESD.addr, user, ESDS.addr),\n        getTokenBalance(ESDS.addr, user),\n        getTokenTotalSupply(ESDS.addr),\n        getBalanceOfStaged(ESDS.addr, user),\n        getBalanceBonded(ESDS.addr, user),\n        getStatusOf(ESDS.addr, user),\n        getPoolAddress(),\n\n        getFluidUntil(ESDS.addr, user),\n        getLockedUntil(ESDS.addr, user),\n        getTokenTotalSupply(ESD.addr),\n        getTotalBonded(ESDS.addr),\n        loadFluidStatusDao(ESDS.addr, user),\n      ]);\n\n      const userESDBalance = toTokenUnitsBN(esdBalance, ESD.decimals);\n      const userESDSBalance = toTokenUnitsBN(esdsBalance, ESDS.decimals);\n      const totalESDSSupply = toTokenUnitsBN(esdsSupply, ESDS.decimals);\n      const userStagedBalance = toTokenUnitsBN(stagedBalance, ESDS.decimals);\n      const userBondedBalance = toTokenUnitsBN(bondedBalance, ESDS.decimals);\n      const userStatus = parseInt(status, 10);\n      const fluidUntil = parseInt(fluidUntilStr, 10);\n      const lockedUntil = parseInt(lockedUntilStr, 10);\n\n      if (!isCancelled) {\n        setUserESDBalance(new BigNumber(userESDBalance));\n        setUserESDAllowance(new BigNumber(esdAllowance));\n        setUserESDSBalance(new BigNumber(userESDSBalance));\n        setTotalESDSSupply(new BigNumber(totalESDSSupply));\n        setUserStagedBalance(new BigNumber(userStagedBalance));\n        setUserBondedBalance(new BigNumber(userBondedBalance));\n        setUserStatus(userStatus);\n        setUserStatusUnlocked(Math.max(fluidUntil, lockedUntil))\n        setLockup(DAO_EXIT_LOCKUP_EPOCHS);\n        setTotalSupply(toTokenUnitsBN(totalSupplyStr, ESD.decimals));\n        setTotalBonded(toTokenUnitsBN(totalBondedStr, ESD.decimals));\n        setFluidStatus(fluidStatusStr);\n      }\n    }\n    updateUserInfo();\n    const id = setInterval(updateUserInfo, 15000);\n    const apr = setInterval(updateAPR, 15000);\n\n    // eslint-disable-next-line consistent-return\n    return () => {\n      isCancelled = true;\n      isCancelledApr = true;\n      clearInterval(id);\n      clearInterval(apr);\n    };\n  }, [user]);\n\n  return (\n    <>\n\n      <div style={{ padding: '2%', display: 'flex', flexWrap: 'wrap', alignItems: 'center' }}>\n        <div style={{ flexBasis: '20%' }}>\n          <IconHeader icon={<i className=\"fas fa-dot-circle\"/>} text=\"DAO\"/>\n        </div>\n        <div style={{ flexBasis: '80%', textAlign: 'right' }}>\n          <Invest\n              totalSupply={totalSupply}\n              totalBonded={totalBonded}\n          />\n        </div>\n      </div>\n\n      <Box heading=\"How to earn SD from DAO:\">\n        <div style={{width: '100%', textAlign: 'left'}}>\n            <span style={{ color: '#008000' }}>\n                1: Buy SD, use the Buy menu above.<br/>\n                2: In the STAGE section of DAO menu, click MAX, then, deposit. (If it display Approve, you must approve first.) <br/>\n                3: In the BOND section, click MAX, then, deposit.<br/>\n                4: You are now bonded to the DAO and earning SD in auto-compound mode.<br/>\n                <hr/>\n                Advantage: Your rewards are auto-compounded.<br/>\n                <hr/>\n                To exit: Unbond and wait until 36 hours, then, click MAX, then, Withdraw.\n            </span>\n        </div>\n      </Box>\n\n      <AccountPageHeader\n        user={user}\n        accountESDBalance={userESDBalance}\n        accountESDSBalance={userESDSBalance}\n        totalESDSSupply={totalESDSSupply}\n        accountStagedBalance={userStagedBalance}\n        accountBondedBalance={userBondedBalance}\n        accountStatus={userStatus}\n        unlocked={userStatusUnlocked}\n        fluidEpoch={fluidStatus?.fluidEpoch}\n      />\n\n      <WithdrawDeposit\n        user={user}\n        balance={userESDBalance}\n        allowance={userESDAllowance}\n        stagedBalance={userStagedBalance}\n        status={userStatus}\n      />\n\n      <BondUnbond\n        staged={userStagedBalance}\n        bonded={userBondedBalance}\n        status={userStatus}\n        lockup={lockup}\n      />\n    </>\n  );\n}\n\nexport default Wallet;\n","import React from 'react';\n\nimport BigNumber from 'bignumber.js';\n\ntype NumberBlockProps = {\n  title: string,\n  num: BigNumber | string | number\n}\n\nfunction NumberBlock({ title, num }: NumberBlockProps) {\n  const numNum = new BigNumber(num).toNumber();\n\n  return (\n    <>\n      <div style={{ fontSize: 14, padding: 3 }}>{title}</div>\n      <div style={{ fontSize: 24, padding: 3 }}>{numNum}</div>\n\n    </>\n  );\n}\n\nexport default NumberBlock;\n","import React from 'react';\nimport {\n  Box, Button, IconCirclePlus,\n} from '@aragon/ui';\nimport {advance} from '../../utils/web3';\nimport NumberBlock from \"../common/NumberBlock\";\nimport {ESDS} from \"../../constants/tokens\";\n\ntype AdvanceEpochProps = {\n  user: string,\n  epoch: number,\n  epochTime: number,\n}\n\nfunction AdvanceEpoch({\n  user,\n  epoch,\n  epochTime,\n}: AdvanceEpochProps) {\n  return (\n    <Box heading=\"Advance Epoch\">\n      <div style={{ display: 'flex' }}>\n        {/* Epoch Time */}\n        <div style={{ width: '30%' }}>\n          <NumberBlock title=\"Epoch (from current time)\" num={epochTime} />\n        </div>\n        {/* Advance Epoch */}\n        <div style={{ width: '40%' }}/>\n        <div style={{ width: '30%', paddingTop: '2%' }}>\n          <Button\n            wide\n            icon={<IconCirclePlus />}\n            label=\"Advance\"\n            onClick={() => {\n              advance(ESDS.addr);\n            }}\n            disabled={user === '' || epoch >= epochTime}\n          />\n        </div>\n      </div>\n    </Box>\n  );\n}\n\n\nexport default AdvanceEpoch;\n","import React from 'react';\n\nimport NumberBlock from \"../common/NumberBlock\";\nimport TextBlock from \"../common/TextBlock\";\n\ntype AccountPageHeaderProps = {\n  epoch: number,\n  epochTime: number,\n};\n\nconst EpochPageHeader = ({\n  epoch, epochTime,\n}: AccountPageHeaderProps) => (\n  <div style={{ padding: '2%', display: 'flex', alignItems: 'center' }}>\n    <div style={{ width: '25%' }}>\n      <NumberBlock title=\"Current\" num={epoch} />\n    </div>\n    <div style={{ width: '25%' }}>\n      <NumberBlock title=\"Available\" num={epochTime} />\n    </div>\n    <div style={{ width: '25%' }}>\n      <TextBlock label=\"Period\" text={epoch < 106 ? \"24 hours\" : \"8 hours\"}/>\n    </div>\n  </div>\n);\n\n\nexport default EpochPageHeader;\n","import React, { useState, useEffect } from 'react';\nimport { Header } from '@aragon/ui';\n\nimport {getEpoch, getEpochTime,\n} from '../../utils/infura';\nimport {ESDS} from \"../../constants/tokens\";\nimport AdvanceEpoch from './AdvanceEpoch';\nimport EpochPageHeader from \"./Header\";\nimport IconHeader from \"../common/IconHeader\";\n\nfunction EpochDetail({ user }: {user: string}) {\n\n  const [epoch, setEpoch] = useState(0);\n  const [epochTime, setEpochTime] = useState(0);\n  useEffect(() => {\n    let isCancelled = false;\n\n    async function updateUserInfo() {\n      const [epochStr, epochTimeStr] = await Promise.all([\n        getEpoch(ESDS.addr),\n        getEpochTime(ESDS.addr),\n      ]);\n\n      if (!isCancelled) {\n        setEpoch(parseInt(epochStr, 10));\n        setEpochTime(parseInt(epochTimeStr, 10));\n      }\n    }\n    updateUserInfo();\n    const id = setInterval(updateUserInfo, 15000);\n\n    // eslint-disable-next-line consistent-return\n    return () => {\n      isCancelled = true;\n      clearInterval(id);\n    };\n  }, [user]);\n\n  return (\n    <>\n      <IconHeader icon={<i className=\"fas fa-stream\"/>} text=\"Epoch\"/>\n\n      <EpochPageHeader\n        epoch={epoch}\n        epochTime={epochTime}\n      />\n\n      <Header primary=\"Advance Epoch\" />\n\n      <AdvanceEpoch\n        user={user}\n        epoch={epoch}\n        epochTime={epochTime}\n      />\n    </>\n  );\n}\n\nexport default EpochDetail;\n","import React from 'react';\n\nimport BigNumber from \"bignumber.js\";\nimport { BalanceBlock } from \"../common\";\nimport {ownership} from \"../../utils/number\";\n\ntype CouponMarketHeaderProps = {\n  debt: BigNumber,\n  supply: BigNumber,\n  coupons: BigNumber,\n  premium: BigNumber,\n  redeemable: BigNumber,\n};\n\nconst CouponMarketHeader = ({\n  debt, supply, coupons, premium, redeemable\n}: CouponMarketHeaderProps) => (\n  <div style={{ padding: '2%', display: 'flex', flexWrap: 'wrap', alignItems: 'center' }}>\n    <div style={{ flexBasis: '20%' }}>\n      <BalanceBlock asset=\"Debt Ratio\" balance={ownership(debt, supply)} suffix={\"%\"}/>\n    </div>\n    <div style={{ flexBasis: '20%' }}>\n      <BalanceBlock asset=\"Total Debt\" balance={debt} suffix={\"SD\"}/>\n    </div>\n    <div style={{ flexBasis: '20%' }}>\n      <BalanceBlock asset=\"Coupons\" balance={coupons} />\n    </div>\n    <div style={{ flexBasis: '20%' }}>\n      <BalanceBlock asset=\"Premium\" balance={premium.multipliedBy(100)} suffix={\"%\"}/>\n    </div>\n    <div style={{ flexBasis: '20%' }}>\n      <BalanceBlock asset=\"Redeemable\" balance={redeemable}/>\n    </div>\n  </div>\n);\n\n\nexport default CouponMarketHeader;\n","import React, { useState } from 'react';\nimport {\n  Box, Button, IconCirclePlus, IconCircleMinus\n} from '@aragon/ui';\nimport BigNumber from 'bignumber.js';\nimport {\n  BalanceBlock, MaxButton, PriceSection,\n} from '../common/index';\nimport {approve, purchaseCoupons} from '../../utils/web3';\n\nimport {isPos, toBaseUnitBN, toTokenUnitsBN} from '../../utils/number';\nimport {ESD, ESDS} from \"../../constants/tokens\";\nimport {MAX_UINT256} from \"../../constants/values\";\nimport {getCouponPremium} from \"../../utils/infura\";\nimport BigNumberInput from \"../common/BigNumberInput\";\n\ntype PurchaseCouponsProps = {\n  user: string,\n  allowance: BigNumber,\n  balance: BigNumber,\n  debt: BigNumber,\n};\n\nfunction PurchaseCoupons({\n  user, balance, allowance, debt,\n}: PurchaseCouponsProps) {\n  const [purchaseAmount, setPurchaseAmount] = useState(new BigNumber(0));\n  const [premium, setPremium] = useState(new BigNumber(0));\n\n  const updatePremium = async (purchaseAmount) => {\n    if (purchaseAmount.lte(new BigNumber(0))) {\n      setPremium(new BigNumber(0));\n      return;\n    }\n    const purchaseAmountBase = toBaseUnitBN(purchaseAmount, ESD.decimals);\n    const premium = await getCouponPremium(ESDS.addr, purchaseAmountBase)\n    const premiumFormatted = toTokenUnitsBN(premium, ESD.decimals);\n    setPremium(premiumFormatted);\n  };\n\n  return (\n    <Box heading=\"Purchase\">\n      {allowance.comparedTo(MAX_UINT256) === 0 ?\n        <div style={{display: 'flex', flexWrap: 'wrap'}}>\n          {/* User balance */}\n          <div style={{flexBasis: '30%'}}>\n            <BalanceBlock asset={`Balance`} balance={balance} suffix={\" SD\"}/>\n          </div>\n          <div style={{flexBasis: '38%'}}/>\n          {/* Purchase coupons */}\n          <div style={{flexBasis: '32%', paddingTop: '2%'}}>\n            <div style={{display: 'flex'}}>\n              <div style={{width: '60%', minWidth: '6em'}}>\n                <>\n                  <BigNumberInput\n                    adornment=\"SD\"\n                    value={purchaseAmount}\n                    setter={(value) => {\n                      setPurchaseAmount(value);\n                      isPos(value) ? updatePremium(value) : updatePremium(new BigNumber(0));\n                    }}\n                  />\n                  <MaxButton\n                    onClick={() => {\n                      const maxPurchaseAmount = debt.comparedTo(balance) > 0 ? balance : debt\n                      setPurchaseAmount(maxPurchaseAmount);\n                      updatePremium(maxPurchaseAmount);\n                    }}\n                  />\n                </>\n              </div>\n              <div style={{width: '40%', minWidth: '6em'}}>\n                <Button\n                  wide\n                  icon={<IconCircleMinus/>}\n                  label=\"Burn\"\n                  onClick={() => {\n                    purchaseCoupons(\n                      ESDS.addr,\n                      toBaseUnitBN(purchaseAmount, ESD.decimals),\n                    );\n                  }}\n                  disabled={user === '' || debt.isZero() || balance.isZero() || !isPos(purchaseAmount)}\n                />\n              </div>\n            </div>\n            <PriceSection label=\"Coupons \" amt={purchaseAmount.plus(premium)}/>\n          </div>\n        </div>\n        :\n        <div style={{display: 'flex', flexWrap: 'wrap'}}>\n          {/* User balance */}\n          <div style={{flexBasis: '30%'}}>\n            <BalanceBlock asset={`SD Balance`} balance={balance}/>\n          </div>\n          <div style={{flexBasis: '40%'}}/>\n          {/* Approve DAO to spend SD */}\n          <div style={{flexBasis: '30%', paddingTop: '2%'}}>\n            <Button\n              wide\n              icon={<IconCirclePlus/>}\n              label=\"Approve\"\n              onClick={() => {\n                approve(ESD.addr, ESDS.addr);\n              }}\n              disabled={user === ''}\n            />\n          </div>\n        </div>\n      }\n    </Box>\n  );\n}\n\nexport default PurchaseCoupons;\n","import React, {useEffect, useState} from 'react';\nimport {\n  DataView, Button, IconCirclePlus, IconTrash\n} from '@aragon/ui';\n\nimport {getBatchBalanceOfCoupons, getBatchCouponsExpiration, getCouponEpochs} from '../../utils/infura';\nimport {ESD, ESDS} from \"../../constants/tokens\";\nimport {formatBN, toBaseUnitBN, toTokenUnitsBN} from \"../../utils/number\";\nimport BigNumber from \"bignumber.js\";\nimport {redeemCoupons, recoverCoupons} from \"../../utils/web3\";\n\ntype PurchaseHistoryProps = {\n  user: string,\n  hideRedeemed: boolean,\n  totalRedeemable: BigNumber\n};\n\nfunction PurchaseHistory({\n  user, hideRedeemed, totalRedeemable\n}: PurchaseHistoryProps) {\n  const [epochs, setEpochs] = useState([]);\n  const [page, setPage] = useState(0)\n  const [initialized, setInitialized] = useState(false)\n\n  //Update User balances\n  useEffect(() => {\n    if (user === '') return;\n    let isCancelled = false;\n\n    async function updateUserInfo() {\n      const epochsFromEvents = await getCouponEpochs(ESDS.addr, user);\n      const epochNumbers = epochsFromEvents.map(e => parseInt(e.epoch));\n      const balanceOfCoupons = await getBatchBalanceOfCoupons(ESDS.addr, user, epochNumbers);\n      const couponsExpirations = await getBatchCouponsExpiration(ESDS.addr, epochNumbers);\n\n      const couponEpochs = epochsFromEvents.map((epoch, i) => {\n        epoch.balance = new BigNumber(balanceOfCoupons[i]);\n        epoch.expiration = couponsExpirations[i];\n        return epoch;\n      });\n\n      if (!isCancelled) {\n        // @ts-ignore\n        setEpochs(couponEpochs);\n        setInitialized(true);\n      }\n    }\n    updateUserInfo();\n    const id = setInterval(updateUserInfo, 15000);\n\n    // eslint-disable-next-line consistent-return\n    return () => {\n      isCancelled = true;\n      clearInterval(id);\n    };\n  }, [user, totalRedeemable]);\n\n  return (\n    <DataView\n      fields={['Epoch', 'Purchased', 'Balance', 'Expires', 'Recover', 'Redeem']}\n      status={ initialized ? 'default' : 'loading' }\n      // @ts-ignore\n      entries={hideRedeemed ? epochs.filter((epoch) => !epoch.balance.isZero()) : epochs}\n      entriesPerPage={10}\n      page={page}\n      onPageChange={setPage}\n      renderEntry={(epoch) => [\n        epoch.epoch.toString(),\n        formatBN(toTokenUnitsBN(epoch.coupons, ESD.decimals), 2),\n        formatBN(toTokenUnitsBN(epoch.balance, ESD.decimals), 2),\n        epoch.expiration.toString(),\n          <Button\n              icon={<IconTrash />}\n              label=\"Recover\"\n              onClick={() => recoverCoupons(\n                  ESDS.addr,\n                  epoch.epoch,\n                  epoch.balance.isGreaterThan(toBaseUnitBN(epoch.coupons, ESD.decimals))\n                      ? toBaseUnitBN(totalRedeemable, ESD.decimals)\n                      : epoch.balance\n              )}\n              disabled={epoch.balance.isZero()}\n          />,\n        <Button\n            icon={<IconCirclePlus />}\n            label=\"Redeem\"\n            onClick={() => redeemCoupons(\n                ESDS.addr,\n                epoch.epoch,\n                epoch.balance.isGreaterThan(toBaseUnitBN(totalRedeemable, ESD.decimals))\n                    ? toBaseUnitBN(totalRedeemable, ESD.decimals)\n                    : epoch.balance\n            )}\n            disabled={epoch.balance.isZero()}\n        />\n\n      ]}\n    />\n  );\n}\n\nexport default PurchaseHistory;\n","import React, { useState } from 'react';\nimport { Modal, Button, useTheme } from '@aragon/ui';\nimport { getPreference, storePreference } from \"../../utils/storage\";\nimport { COUPON_EXPIRATION } from \"../../constants/values\";\n\nfunction ModalWarning() {\n  const storedShowWarning = getPreference('showCouponWarning', '1');\n  const [showWarning, setShowWarning] = useState(storedShowWarning === '1');\n  const theme = useTheme();\n\n  return (\n    <Modal visible={showWarning} closeButton={false}>\n      <div style={{ width: '100%' }}>\n        <div style={{ fontSize: 24, padding: 3, color: theme.warning }}>\n          Warning\n        </div>\n\n        <div style={{\n          marginLeft: '3%',\n          fontSize: 16,\n          padding: 5\n        }}>\n          <div>\n            By purchasing coupons the buyer incurs significant risk of loss.\n            Coupons will only become redeemable during the next supply\n            expansion. Each expansionary epoch, a tranche of rewards are\n            reserved for coupon redemptions by the DAO. At that time, the\n            redemption process is first come, first served. Coupon redemption\n            is not guaranteed.\n          </div>\n\n          <div style={{\n            padding: 10,\n            textAlign: 'center',\n            color: theme.warningSurfaceContent\n          }}>\n            Coupons will expire worthless if not redeemed\n            within {COUPON_EXPIRATION} epochs.\n          </div>\n        </div>\n\n        <div style={{ textAlign: 'right' }}>\n          <Button\n            label={'I understand'}\n            onClick={() => {\n              storePreference('showCouponWarning', '0');\n              setShowWarning(false);\n            }}\n          />\n        </div>\n      </div>\n    </Modal>\n  );\n}\n\nexport default ModalWarning;\n","import React, { useState, useEffect } from 'react';\nimport { Header } from '@aragon/ui';\nimport { useParams } from 'react-router-dom';\n\nimport {\n  getCouponPremium,\n  getTokenAllowance,\n  getTokenBalance,\n  getTokenTotalSupply, getTotalCoupons,\n  getTotalDebt, getTotalRedeemable,\n} from '../../utils/infura';\nimport {ESD, ESDS} from \"../../constants/tokens\";\nimport CouponMarketHeader from \"./Header\";\nimport {toTokenUnitsBN} from \"../../utils/number\";\nimport BigNumber from \"bignumber.js\";\nimport PurchaseCoupons from \"./PurchaseCoupons\";\nimport PurchaseHistory from \"./PurchaseHistory\";\nimport ModalWarning from \"./ModalWarning\";\nimport IconHeader from \"../common/IconHeader\";\nimport {getPreference, storePreference} from \"../../utils/storage\";\nimport {CheckBox} from \"../common\";\n\nconst ONE_COUPON = new BigNumber(10).pow(18);\n\nfunction CouponMarket({ user }: {user: string}) {\n  const { override } = useParams();\n  if (override) {\n    user = override;\n  }\n\n  const storedHideRedeemed = getPreference('hideRedeemedCoupons', '0');\n\n  const [balance, setBalance] = useState(new BigNumber(0));\n  const [allowance, setAllowance] = useState(new BigNumber(0));\n  const [supply, setSupply] = useState(new BigNumber(0));\n  const [coupons, setCoupons] = useState(new BigNumber(0));\n  const [redeemable, setRedeemable] = useState(new BigNumber(0));\n  const [couponPremium, setCouponPremium] = useState(new BigNumber(0));\n  const [debt, setDebt] = useState(new BigNumber(0));\n  const [hideRedeemed, setHideRedeemed] = useState(storedHideRedeemed === '1');\n\n  useEffect(() => {\n    if (user === '') {\n      setBalance(new BigNumber(0));\n      setAllowance(new BigNumber(0));\n      return;\n    }\n    let isCancelled = false;\n\n    async function updateUserInfo() {\n      const [balanceStr, allowanceStr] = await Promise.all([\n        getTokenBalance(ESD.addr, user),\n        getTokenAllowance(ESD.addr, user, ESDS.addr),\n      ]);\n\n      const userBalance = toTokenUnitsBN(balanceStr, ESD.decimals);\n\n      if (!isCancelled) {\n        setBalance(new BigNumber(userBalance));\n        setAllowance(new BigNumber(allowanceStr));\n        (new BigNumber(allowanceStr));\n      }\n    }\n    updateUserInfo();\n    const id = setInterval(updateUserInfo, 15000);\n\n    // eslint-disable-next-line consistent-return\n    return () => {\n      isCancelled = true;\n      clearInterval(id);\n    };\n  }, [user]);\n\n  useEffect(() => {\n    let isCancelled = false;\n\n    async function updateUserInfo() {\n      const [supplyStr, debtStr, couponsStr, redeemableStr] = await Promise.all([\n        getTokenTotalSupply(ESD.addr),\n        getTotalDebt(ESDS.addr),\n        getTotalCoupons(ESDS.addr),\n        getTotalRedeemable(ESDS.addr),\n      ]);\n\n      const totalSupply = toTokenUnitsBN(supplyStr, ESD.decimals);\n      const totalDebt = toTokenUnitsBN(debtStr, ESD.decimals);\n      const totalCoupons = toTokenUnitsBN(couponsStr, ESD.decimals);\n      const totalRedeemable = toTokenUnitsBN(redeemableStr, ESD.decimals);\n\n      if (!isCancelled) {\n        setSupply(new BigNumber(totalSupply));\n        setDebt(new BigNumber(totalDebt));\n        setCoupons(new BigNumber(totalCoupons));\n        setRedeemable(new BigNumber(totalRedeemable));\n\n        if (totalDebt.isGreaterThan(new BigNumber(1))) {\n          const couponPremiumStr = await getCouponPremium(ESDS.addr, ONE_COUPON)\n          setCouponPremium(toTokenUnitsBN(couponPremiumStr, ESD.decimals));\n        } else {\n          setCouponPremium(new BigNumber(0));\n        }\n      }\n    }\n    updateUserInfo();\n    const id = setInterval(updateUserInfo, 15000);\n\n    // eslint-disable-next-line consistent-return\n    return () => {\n      isCancelled = true;\n      clearInterval(id);\n    };\n  }, [user]);\n\n  return (\n    <>\n      <ModalWarning/>\n\n      <IconHeader icon={<i className=\"fas fa-ticket-alt\"/>} text=\"Coupon Market\"/>\n\n      <CouponMarketHeader\n        debt={debt}\n        supply={supply}\n        coupons={coupons}\n        premium={couponPremium}\n        redeemable={redeemable}\n      />\n\n      <Header primary=\"Purchase\" />\n\n      <PurchaseCoupons\n        user={user}\n        allowance={allowance}\n        balance={balance}\n        debt={debt}\n      />\n\n      <div style={{ display: 'flex' }}>\n        <Header primary=\"Coupons\" />\n        <div style={{ marginLeft: 'auto', alignSelf: 'flex-end' }}>\n          <CheckBox\n            text=\"Hide Redeemed\"\n            onCheck={(checked) => {\n              storePreference('hideRedeemedCoupons', checked ? '1' : '0');\n              setHideRedeemed(checked);\n            }}\n            checked={hideRedeemed}\n          />\n        </div>\n      </div>\n\n      <PurchaseHistory\n        user={user}\n        hideRedeemed={hideRedeemed}\n        totalRedeemable={redeemable}\n      />\n    </>\n  );\n}\n\nexport default CouponMarket;\n","import React from 'react';\n\nimport BigNumber from \"bignumber.js\";\nimport {AddressBlock, BalanceBlock} from \"../common\";\nimport TextBlock from \"../common/TextBlock\";\nimport {ownership} from \"../../utils/number\";\nimport {GOVERNANCE_PROPOSAL_THRESHOLD} from \"../../constants/values\";\n\ntype GovernanceHeaderProps = {\n  stake: BigNumber,\n  totalStake: BigNumber,\n  accountStatus: number,\n  implementation: string\n};\n\nconst STATUS_MAP = [\"Frozen\", \"Fluid\", \"Locked\"];\n\nconst GovernanceHeader = ({\n  stake, totalStake, accountStatus, implementation\n}: GovernanceHeaderProps) => (\n  <div style={{ padding: '2%', display: 'flex', flexWrap: 'wrap', alignItems: 'center' }}>\n    <div style={{ flexBasis: '25%' }}>\n      <BalanceBlock asset=\"DAO Ownership\" balance={ownership(stake, totalStake)} suffix=\"%\" />\n    </div>\n    <div style={{ flexBasis: '25%' }}>\n      <BalanceBlock asset=\"Proposal Threshold\" balance={GOVERNANCE_PROPOSAL_THRESHOLD.multipliedBy(100)} suffix=\"%\" />\n    </div>\n    <div style={{ flexBasis: '25%' }}>\n      <TextBlock label=\"Status\" text={STATUS_MAP[accountStatus]}/>\n    </div>\n    <div style={{ flexBasis: '25%' }}>\n      <AddressBlock label=\"Implementation\" address={implementation} />\n    </div>\n  </div>\n);\n\n\nexport default GovernanceHeader;\n","import {GOVERNANCE_PROPOSAL_THRESHOLD, GOVERNANCE_QUORUM} from \"../constants/values\";\nimport BigNumber from \"bignumber.js\";\n\nexport function proposalStatus(epoch, start, period, initialized, approve, reject, total): string {\n  if (start === 0) {\n    return \"N/A\";\n  }\n  if (epoch < start) {\n    return \"Unknown\";\n  }\n  if (epoch < (start + period)) {\n    return \"Voting\"\n  }\n  if (initialized) {\n    return \"Committed\"\n  }\n\n  if (epoch < (start + period)) {\n    return \"Rejected\"; // Not ended\n  }\n  if (approve.plus(reject).dividedBy(total).comparedTo(GOVERNANCE_QUORUM) < 0) {\n    return \"Rejected\"; // Didn't meet quorum\n  }\n  return approve.comparedTo(reject) > 0 ? \"Approved\" : \"Rejected\";\n}\n\nexport function canPropose(stake: BigNumber, totalStake: BigNumber): boolean {\n  return stake.div(totalStake).comparedTo(GOVERNANCE_PROPOSAL_THRESHOLD) >= 0;\n}","import React, { useState } from 'react';\nimport {\n  Box, TextInput, Button, IconToken,\n} from '@aragon/ui';\nimport BigNumber from 'bignumber.js';\nimport {recordVote} from '../../utils/web3';\n\nimport {ESDS} from \"../../constants/tokens\";\nimport {canPropose} from \"../../utils/gov\";\n\ntype ProposeCandidateProps = {\n  user: string,\n  stake: BigNumber,\n  totalStake: BigNumber,\n  accountStatus: number\n};\n\nfunction plausibleCandidate(candidate: string): boolean {\n  return (/^(0x)[0-9a-fA-F]{40}$/i.test(candidate));\n}\n\nfunction ProposeCandidate({\n  user, stake, totalStake, accountStatus,\n}: ProposeCandidateProps) {\n  const [candidate, setCandidate] = useState(\"0x\");\n\n  return (\n    <Box heading=\"Propose\">\n      <div style={{display: 'flex', flexWrap: 'wrap'}}>\n        {/* User balance */}\n        <div style={{flexBasis: '62%', paddingTop: '2%'}}>\n          <>\n            <TextInput\n              wide\n              value={candidate}\n              onChange={(event) => {\n                if (event.target.value) {\n                  setCandidate(event.target.value);\n                } else {\n                  setCandidate(\"0x\");\n                }\n              }}\n            />\n          </>\n        </div>\n        <div style={{flexBasis: '6%'}}/>\n        {/* Purchase coupons */}\n        <div style={{flexBasis: '32%', paddingTop: '2%'}}>\n          <Button\n            wide\n            icon={<IconToken/>}\n            label=\"Propose\"\n            onClick={() => {\n              recordVote(\n                ESDS.addr,\n                candidate,\n                1 // APPROVE\n              );\n            }}\n            disabled={user === '' || !canPropose(stake, totalStake) || !plausibleCandidate(candidate) || accountStatus === 1}\n          />\n        </div>\n      </div>\n    </Box>\n  );\n}\n\nexport default ProposeCandidate;\n","import React, {useEffect, useState} from 'react';\nimport { useHistory } from 'react-router-dom';\nimport {\n  Button, IconRight, DataView\n} from '@aragon/ui';\n\nimport {\n  getAllProposals,\n  getApproveFor,\n  getEpoch,\n  getIsInitialized,\n  getRejectFor,\n  getTokenTotalSupply, getTotalBondedAt\n} from '../../utils/infura';\nimport {ESDS} from \"../../constants/tokens\";\nimport {AddressBlock} from \"../common\";\nimport {proposalStatus} from \"../../utils/gov\";\nimport BigNumber from \"bignumber.js\";\n\ntype CandidateHistoryProps = {\n  user: string;\n};\n\ntype Proposal = {\n  index: number\n  candidate: string,\n  account: string,\n  start: number,\n  period: number,\n  status: string\n}\n\nasync function formatProposals(epoch: number, proposals: any[]): Promise<Proposal[]> {\n  const currentTotalStake = await getTokenTotalSupply(ESDS.addr);\n  const initializeds = await Promise.all(proposals.map((p) => getIsInitialized(ESDS.addr, p.candidate)));\n  const approves = await Promise.all(proposals.map((p) => getApproveFor(ESDS.addr, p.candidate)));\n  const rejecteds = await Promise.all(proposals.map((p) => getRejectFor(ESDS.addr, p.candidate)));\n  const supplyAts = await Promise.all(proposals.map(async (p) => {\n    const at = (p.start + p.period - 1);\n    if (epoch > at) {\n      return await getTotalBondedAt(ESDS.addr, at);\n    }\n    return currentTotalStake;\n  }));\n\n  for (let i = 0; i < proposals.length; i++) {\n    proposals[i].index = (proposals.length - i);\n    proposals[i].start = parseInt(proposals[i].start);\n    proposals[i].period = parseInt(proposals[i].period);\n    proposals[i].status = proposalStatus(\n      epoch,\n      proposals[i].start,\n      proposals[i].period,\n      initializeds[i],\n      new BigNumber(approves[i]),\n      new BigNumber(rejecteds[i]),\n      new BigNumber(supplyAts[i])\n    );\n  }\n  return proposals\n}\n\nfunction CandidateHistory({user}: CandidateHistoryProps) {\n  const history = useHistory();\n  const [proposals, setProposals] = useState<Proposal[]>([]);\n  const [page, setPage] = useState(0)\n  const [initialized, setInitialized] = useState(false)\n\n  useEffect(() => {\n    let isCancelled = false;\n\n    async function updateUserInfo() {\n      const [epochStr, allProposals] = await Promise.all([\n        getEpoch(ESDS.addr),\n        getAllProposals(ESDS.addr),\n      ]);\n\n      if (!isCancelled) {\n        const formattedProposals = await formatProposals(parseInt(epochStr), allProposals);\n        setProposals(formattedProposals);\n        setInitialized(true);\n      }\n    }\n    updateUserInfo();\n    const id = setInterval(updateUserInfo, 15000);\n\n    // eslint-disable-next-line consistent-return\n    return () => {\n      isCancelled = true;\n      clearInterval(id);\n    };\n  }, [user]);\n\n  return (\n    <DataView\n      fields={['Proposal', 'Candidate', 'Proposed', 'Complete', 'Proposer', 'Status', '']}\n      status={ initialized ? 'default' : 'loading' }\n      // @ts-ignore\n      entries={proposals}\n      entriesPerPage={10}\n      page={page}\n      onPageChange={setPage}\n      renderEntry={(proposal) => [\n        \"#\" + proposal.index,\n        <AddressBlock label=\"\" address={proposal.candidate} />,\n        proposal.start.toString(),\n        (proposal.start + proposal.period).toString(),\n        <AddressBlock label=\"\" address={proposal.account} />,\n        proposal.status,\n        <Button\n          wide\n          icon={<IconRight />}\n          label=\"Go To\"\n          onClick={() => {\n            history.push(`/governance/candidate/${proposal.candidate}`);\n          }}\n        />\n      ]}\n    />\n  );\n}\n\nexport default CandidateHistory;\n","import React, { useState, useEffect } from 'react';\nimport { Header } from '@aragon/ui';\n\nimport {\n  getImplementation,\n  getStatusOf,\n  getTokenBalance,\n  getTokenTotalSupply,\n} from '../../utils/infura';\nimport {ESDS} from \"../../constants/tokens\";\nimport {toTokenUnitsBN} from \"../../utils/number\";\nimport BigNumber from \"bignumber.js\";\nimport GovernanceHeader from \"./Header\";\nimport ProposeCandidate from \"./ProposeCandidate\";\nimport CandidateHistory from \"./CandidateHistory\";\nimport IconHeader from \"../common/IconHeader\";\nimport {canPropose} from \"../../utils/gov\";\n\nfunction Governance({ user }: {user: string}) {\n\n  const [stake, setStake] = useState(new BigNumber(0));\n  const [totalStake, setTotalStake] = useState(new BigNumber(0));\n  const [userStatus, setUserStatus] = useState(0);\n  const [implementation, setImplementation] = useState(\"0x\");\n\n  useEffect(() => {\n    if (user === '') {\n      setStake(new BigNumber(0));\n      setUserStatus(0);\n      return;\n    }\n    let isCancelled = false;\n\n    async function updateUserInfo() {\n      const [statusStr, stakeStr] = await Promise.all([\n        getStatusOf(ESDS.addr, user),\n        getTokenBalance(ESDS.addr, user),\n      ]);\n\n      if (!isCancelled) {\n        setStake(toTokenUnitsBN(stakeStr, ESDS.decimals));\n        setUserStatus(parseInt(statusStr, 10));\n      }\n    }\n    updateUserInfo();\n    const id = setInterval(updateUserInfo, 15000);\n\n    // eslint-disable-next-line consistent-return\n    return () => {\n      isCancelled = true;\n      clearInterval(id);\n    };\n  }, [user]);\n\n  useEffect(() => {\n    let isCancelled = false;\n\n    async function updateUserInfo() {\n      const [totalStakeStr, implementationStr] = await Promise.all([\n        getTokenTotalSupply(ESDS.addr),\n        getImplementation(ESDS.addr),\n      ]);\n\n      if (!isCancelled) {\n        setTotalStake(toTokenUnitsBN(totalStakeStr, ESDS.decimals));\n        setImplementation(implementationStr)\n      }\n    }\n    updateUserInfo();\n    const id = setInterval(updateUserInfo, 15000);\n\n    // eslint-disable-next-line consistent-return\n    return () => {\n      isCancelled = true;\n      clearInterval(id);\n    };\n  }, [user]);\n\n  return (\n    <>\n      <IconHeader icon={<i className=\"fas fa-poll\"/>} text=\"Governance\"/>\n\n      <GovernanceHeader\n        stake={stake}\n        totalStake={totalStake}\n        accountStatus={userStatus}\n        implementation={implementation}\n      />\n\n      {\n        canPropose(stake, totalStake) ?\n          <>\n            <Header primary=\"Propose Candidate\"/>\n            <ProposeCandidate\n              user={user}\n              stake={stake}\n              totalStake={totalStake}\n              accountStatus={userStatus}\n            />\n          </>\n          :\n          ''\n      }\n\n      <Header primary=\"Candidate History\" />\n\n      <CandidateHistory user={user}/>\n    </>\n  );\n}\n\nexport default Governance;\n","import React from 'react';\nimport {\n  Box, Button, IconRotateLeft, IconCircleCheck, IconProhibited\n} from '@aragon/ui';\nimport BigNumber from 'bignumber.js';\nimport {\n  BalanceBlock,\n} from '../common/index';\nimport {recordVote} from '../../utils/web3';\n\nimport {ESDS} from \"../../constants/tokens\";\nimport TextBlock from \"../common/TextBlock\";\n\ntype VoteProps = {\n  candidate: string,\n  stake: BigNumber,\n  vote: number,\n  status: number\n};\n\nconst VOTE_TYPE_MAP = [\"Undecided\", \"Approve\", \"Reject\"]\n\nfunction Vote({\n  candidate, stake, vote, status\n}: VoteProps) {\n  return (\n    <Box heading=\"Vote\">\n      <div style={{display: 'flex'}}>\n        {/* User stake */}\n        <div style={{width: '20%'}}>\n          <BalanceBlock asset=\"My Stake\" balance={stake} suffix={ \"SDS\"}/>\n        </div>\n        <div style={{width: '20%'}}>\n          <TextBlock label=\"My Vote\" text={VOTE_TYPE_MAP[vote]}/>\n        </div>\n        {/* Remove vote for candidate */}\n        <div style={{width: '18%', paddingTop: '2%'}}>\n          <Button\n            wide\n            icon={<IconRotateLeft/>}\n            label=\"Unvote\"\n            onClick={() => {\n              recordVote(\n                ESDS.addr,\n                candidate,\n                0 // UNDECIDED\n              );\n            }}\n            disabled={status === 1 || vote === 0 || stake.isZero()}\n          />\n        </div>\n        {/* Vote to approve candidate */}\n        <div style={{width: '3%'}} />\n        <div style={{width: '18%', paddingTop: '2%'}}>\n          <Button\n            wide\n            icon={<IconCircleCheck/>}\n            label=\"Accept\"\n            onClick={() => {\n              recordVote(\n                ESDS.addr,\n                candidate,\n                1 // APPROVE\n              );\n            }}\n            disabled={status === 1 || vote === 1 || stake.isZero()}\n          />\n        </div>\n        {/* Vote to reject candidate */}\n        <div style={{width: '3%'}} />\n        <div style={{width: '18%', paddingTop: '2%'}}>\n          <div style={{display: 'flex'}}>\n              <Button\n                wide\n                icon={<IconProhibited/>}\n                label=\"Reject\"\n                onClick={() => {\n                  recordVote(\n                    ESDS.addr,\n                    candidate,\n                    2 // REJECT\n                  );\n                }}\n                disabled={status === 1 || vote === 2 || stake.isZero()}\n              />\n          </div>\n        </div>\n      </div>\n    </Box>\n  );\n}\n\nexport default Vote;\n","import React from 'react';\n\nimport BigNumber from \"bignumber.js\";\nimport { BalanceBlock } from \"../common\";\n\ntype VoteHeaderProps = {\n  approveFor: BigNumber,\n  rejectFor: BigNumber,\n  totalStake: BigNumber,\n  showParticipation: boolean,\n};\n\nfunction approval(approve: BigNumber, reject: BigNumber): BigNumber {\n  return approve.multipliedBy(10000).dividedToIntegerBy(approve.plus(reject)).dividedBy(100)\n}\n\nfunction participation(approve: BigNumber, reject: BigNumber, totalStake: BigNumber): BigNumber {\n  return approve.plus(reject).multipliedBy(10000).dividedToIntegerBy(totalStake).dividedBy(100)\n}\n\nconst VoteHeader = ({\n  approveFor, rejectFor, totalStake, showParticipation\n}: VoteHeaderProps) => (\n  <div style={{ padding: '2%', display: 'flex', alignItems: 'center' }}>\n    <div style={{ width: '25%' }}>\n      <BalanceBlock asset=\"Approve\" balance={approveFor} suffix={ \"SDS\"}/>\n    </div>\n    <div style={{ width: '25%' }}>\n      <BalanceBlock asset=\"Reject\" balance={rejectFor} suffix={ \"SDS\"}/>\n    </div>\n    <div style={{ width: '25%' }}>\n      <BalanceBlock asset=\"Approval\" balance={approval(approveFor, rejectFor)} suffix=\"%\" />\n    </div>\n    {showParticipation ?\n      <div style={{width: '25%'}}>\n        <BalanceBlock asset=\"Participation\" balance={participation(approveFor, rejectFor, totalStake)} suffix=\"%\"/>\n      </div> : ''\n    }\n  </div>\n);\n\n\nexport default VoteHeader;\n","import React from 'react';\n\nimport NumberBlock from \"../common/NumberBlock\";\n\ntype CommitHeaderProps = {\n  epoch: number\n  startEpoch: number,\n  periodEpoch: number,\n};\n\nconst CommitHeader = ({\n   epoch, startEpoch, periodEpoch,\n}: CommitHeaderProps) => (\n  <div style={{ padding: '2%', display: 'flex', alignItems: 'center' }}>\n    <div style={{ width: '25%' }}>\n      <NumberBlock title=\"Epoch\" num={epoch} />\n    </div>\n    <div style={{ width: '25%' }}>\n      <NumberBlock title=\"Starts\" num={startEpoch} />\n    </div>\n    <div style={{ width: '25%' }}>\n      <NumberBlock title=\"Period\" num={periodEpoch} />\n    </div>\n  </div>\n);\n\n\nexport default CommitHeader;\n","import React from 'react';\nimport {\n  Box, Button, IconUpload\n} from '@aragon/ui';\nimport TextBlock from \"../common/TextBlock\";\nimport {ESDS} from \"../../constants/tokens\";\nimport {commit} from \"../../utils/web3\";\n\ntype CommitProps = {\n  user: string,\n  candidate: string,\n  epoch: number\n  startEpoch: number,\n  periodEpoch: number,\n  initialized: boolean,\n  approved: boolean\n};\n\nfunction Commit({\n  user, candidate, epoch, startEpoch, periodEpoch, initialized, approved,\n}: CommitProps) {\n  function status(epoch, startEpoch, periodEpoch, initialized, approved): string {\n    if (startEpoch === 0) {\n      return \"N/A\";\n    }\n    if (epoch < startEpoch) {\n      return \"Unknown\";\n    }\n    if (epoch < (startEpoch + periodEpoch)) {\n      return \"Voting\"\n    }\n    if (initialized) {\n      return \"Committed\"\n    }\n    if (approved) {\n      return \"Approved\"\n    }\n    return \"Rejected\"\n  }\n  const s = status(epoch, startEpoch, periodEpoch, initialized, approved);\n\n  return (\n    <Box heading=\"Commit\">\n      <div style={{display: 'flex'}}>\n        {/* Status */}\n        <div style={{ width: '30%' }}>\n          <TextBlock label=\"Status\" text={s} />\n        </div>\n        <div style={{width: '40%'}} />\n        {/* Commit candidate */}\n        <div style={{width: '30%', paddingTop: '2%'}}>\n          <div style={{display: 'flex'}}>\n              <Button\n                wide\n                icon={<IconUpload/>}\n                label=\"Commit\"\n                onClick={() => {\n                  commit(\n                    ESDS.addr,\n                    candidate\n                  );\n                }}\n                disabled={user === '' || s !== 'Approved'}\n              />\n          </div>\n        </div>\n      </div>\n    </Box>\n  );\n}\n\nexport default Commit;\n","import React, { useState, useEffect } from 'react';\nimport { Header, IdentityBadge } from '@aragon/ui';\nimport { useParams } from 'react-router-dom';\n\nimport {\n  getApproveFor, getEpoch, getIsInitialized, getPeriodFor,\n  getRecordedVote,\n  getRejectFor, getStartFor, getStatusOf,\n  getTokenBalance,\n  getTokenTotalSupply, getTotalBondedAt\n} from '../../utils/infura';\nimport {ESDS} from \"../../constants/tokens\";\nimport {toTokenUnitsBN} from \"../../utils/number\";\nimport BigNumber from \"bignumber.js\";\nimport Vote from \"./Vote\";\nimport VoteHeader from \"./VoteHeader\";\nimport CommitHeader from \"./CommitHeader\";\nimport Commit from \"./Commit\";\nimport IconHeader from \"../common/IconHeader\";\nimport {proposalStatus} from \"../../utils/gov\";\n\nfunction Candidate({ user }: {user: string}) {\n  const { candidate } = useParams();\n\n  const [approveFor, setApproveFor] = useState(new BigNumber(0));\n  const [rejectFor, setRejectFor] = useState(new BigNumber(0));\n  const [totalStake, setTotalStake] = useState(new BigNumber(0));\n  const [vote, setVote] = useState(0);\n  const [status, setStatus] = useState(0);\n  const [userStake, setUserStake] = useState(new BigNumber(0));\n  const [epoch, setEpoch] = useState(0);\n  const [startEpoch, setStartEpoch] = useState(0);\n  const [periodEpoch, setPeriodEpoch] = useState(0);\n  const [initialized, setInitialized] = useState(false);\n\n  useEffect(() => {\n    if (user === '') {\n      setVote(0);\n      setStatus(0);\n      setUserStake(new BigNumber(0));\n      return;\n    }\n    let isCancelled = false;\n\n    async function updateUserInfo() {\n      const [\n        voteStr, statusStr, userStakeStr,\n      ] = await Promise.all([\n        getRecordedVote(ESDS.addr, user, candidate),\n        getStatusOf(ESDS.addr, user),\n        getTokenBalance(ESDS.addr, user),\n      ]);\n\n      if (!isCancelled) {\n        setVote(parseInt(voteStr, 10));\n        setStatus(parseInt(statusStr, 10));\n        setUserStake(toTokenUnitsBN(userStakeStr, ESDS.decimals));\n      }\n    }\n    updateUserInfo();\n    const id = setInterval(updateUserInfo, 15000);\n\n    // eslint-disable-next-line consistent-return\n    return () => {\n      isCancelled = true;\n      clearInterval(id);\n    };\n  }, [user, candidate]);\n\n  useEffect(() => {\n    let isCancelled = false;\n\n    async function updateUserInfo() {\n      let [\n        approveForStr, rejectForStr, totalStakeStr,\n        epochStr, startForStr, periodForStr, isInitialized\n      ] = await Promise.all([\n        getApproveFor(ESDS.addr, candidate),\n        getRejectFor(ESDS.addr, candidate),\n        getTokenTotalSupply(ESDS.addr),\n        getEpoch(ESDS.addr),\n        getStartFor(ESDS.addr, candidate),\n        getPeriodFor(ESDS.addr, candidate),\n        getIsInitialized(ESDS.addr, candidate),\n      ]);\n\n      const epochN = parseInt(epochStr, 10);\n      const startN = parseInt(startForStr, 10);\n      const periodN = parseInt(periodForStr, 10);\n\n      const endsAfter = (startN + periodN - 1);\n      if (epochN > endsAfter) {\n        totalStakeStr = await getTotalBondedAt(ESDS.addr, endsAfter);\n      }\n\n      if (!isCancelled) {\n        setApproveFor(toTokenUnitsBN(approveForStr, ESDS.decimals));\n        setRejectFor(toTokenUnitsBN(rejectForStr, ESDS.decimals));\n        setTotalStake(toTokenUnitsBN(totalStakeStr, ESDS.decimals));\n        setEpoch(epochN);\n        setStartEpoch(startN);\n        setPeriodEpoch(periodN);\n        setInitialized(isInitialized);\n      }\n    }\n    updateUserInfo();\n    const id = setInterval(updateUserInfo, 15000);\n\n    // eslint-disable-next-line consistent-return\n    return () => {\n      isCancelled = true;\n      clearInterval(id);\n    };\n  }, [candidate]);\n\n  return (\n    <>\n      <IconHeader icon={<i className=\"fas fa-poll\"/>} text=\"Candidate\"/>\n      <IdentityBadge entity={candidate} shorten={false} />\n\n      <VoteHeader\n        approveFor={approveFor}\n        rejectFor={rejectFor}\n        totalStake={totalStake}\n        showParticipation={startEpoch > 106}\n      />\n\n      <Header primary=\"Vote\" />\n      <Vote\n        candidate={candidate}\n        stake={userStake}\n        vote={vote}\n        status={status}\n      />\n\n      <Header primary=\"Commit\" />\n      <CommitHeader\n        epoch={epoch}\n        startEpoch={startEpoch}\n        periodEpoch={periodEpoch}\n      />\n\n      <Commit\n        user={user}\n        candidate={candidate}\n        epoch={epoch}\n        startEpoch={startEpoch}\n        periodEpoch={periodEpoch}\n        initialized={initialized}\n        approved={proposalStatus(epoch, startEpoch, periodEpoch, false, approveFor, rejectFor, totalStake) === \"Approved\"}\n      />\n    </>\n  );\n}\n\nexport default Candidate;\n","import React from 'react';\n\nimport BigNumber from \"bignumber.js\";\n\nimport {Box, Distribution} from '@aragon/ui';\nimport {formatMoney, ownership} from \"../../utils/number\";\n\ntype RegulationHeaderProps = {\n  totalSupply: BigNumber,\n\n  totalBonded: BigNumber,\n  totalStaged: BigNumber,\n  totalRedeemable: BigNumber,\n\n  poolLiquidity: BigNumber,\n  poolRewarded: BigNumber,\n  poolClaimable: BigNumber,\n\n  totalDebt: BigNumber,\n  totalCoupons: BigNumber,\n  couponPremium: BigNumber,\n};\n\nconst RegulationHeader = ({\n  totalSupply,\n  totalBonded, totalStaged, totalRedeemable,\n  poolLiquidity, poolRewarded, poolClaimable,\n  totalDebt, totalCoupons, couponPremium\n}: RegulationHeaderProps) => {\n  const daoTotalSupply = totalBonded.plus(totalStaged).plus(totalRedeemable);\n  const poolTotalSupply = poolLiquidity.plus(poolRewarded).plus(poolClaimable);\n  const circulatingSupply = totalSupply.minus(daoTotalSupply).minus(poolTotalSupply);\n\n  return (\n    <>\n      <div style={{display: 'flex', flexWrap: 'wrap'}}>\n        <div style={{ flexBasis: '25%', marginRight: '2%' }}>\n          <Box heading=\"Supply Allocation\">\n            <Distribution\n              heading={`${formatMoney(totalSupply.toNumber())}`}\n              items={[\n                { item: 'DAO', percentage: +(ownership(daoTotalSupply, totalSupply).toNumber().toFixed(2)) },\n                { item: 'Pancake', percentage: +(ownership(poolTotalSupply, totalSupply).toNumber().toFixed(2)) },\n                { item: 'Circulating', percentage: +(ownership(circulatingSupply, totalSupply).toNumber().toFixed(2)) },\n              ]}\n            />\n          </Box>\n        </div>\n        <div style={{ flexBasis: '25%', marginRight: '2%' }}>\n          <Box heading=\"DAO Breakdown\">\n            <Distribution\n              heading={`${formatMoney(daoTotalSupply.toNumber())}`}\n              items={[\n                { item: 'Bonded', percentage: +(ownership(totalBonded, daoTotalSupply).toNumber().toFixed(2)) },\n                { item: 'Staged', percentage: +(ownership(totalStaged, daoTotalSupply).toNumber().toFixed(2)) },\n                { item: 'Redeemable', percentage: +(ownership(totalRedeemable, daoTotalSupply).toNumber().toFixed(2)) },\n              ]}\n            />\n          </Box>\n        </div>\n        <div style={{ flexBasis: '25%' }}>\n          <Box heading=\"Pancake Breakdown\">\n            <Distribution\n              heading={`${formatMoney(poolTotalSupply.toNumber())}`}\n              items={[\n                { item: 'Liquidity', percentage: +(ownership(poolLiquidity, poolTotalSupply).toNumber().toFixed(2)) },\n                { item: 'Rewarded', percentage: +(ownership(poolRewarded, poolTotalSupply).toNumber().toFixed(2)) },\n                { item: 'Claimable', percentage: +(ownership(poolClaimable, poolTotalSupply).toNumber().toFixed(2)) },\n              ]}\n            />\n          </Box>\n        </div>\n      </div>\n    </>\n  );\n}\n\n\nexport default RegulationHeader;\n","import React, {useEffect, useState} from 'react';\nimport { DataView } from '@aragon/ui';\n\nimport {getAllRegulations} from '../../utils/infura';\nimport {ESD, ESDS} from \"../../constants/tokens\";\nimport {formatBN, toTokenUnitsBN} from \"../../utils/number\";\nimport BigNumber from \"bignumber.js\";\n\ntype RegulationHistoryProps = {\n  user: string,\n};\n\ntype Regulation = {\n  type: string,\n  data: RegulationEntry\n}\n\ntype RegulationEntry = {\n  epoch: string;\n  price: string;\n  deltaRedeemable: string;\n  deltaDebt: string;\n  deltaBonded: string;\n}\n\nfunction formatPrice(type, data) {\n  return type === 'NEUTRAL' ? '1.00' : formatBN(toTokenUnitsBN(new BigNumber(data.price), ESD.decimals), 3);\n}\n\nfunction formatDeltaRedeemable(type, data) {\n  return type === 'INCREASE' ?\n    '+' + formatBN(toTokenUnitsBN(new BigNumber(data.newRedeemable), ESD.decimals), 2) :\n    '+0.00';\n}\n\nfunction formatDeltaDebt(type, data) {\n  return type === 'INCREASE' ?\n    '-' + formatBN(toTokenUnitsBN(new BigNumber(data.lessDebt), ESD.decimals), 2) :\n    type === 'DECREASE' ?\n      '+' + formatBN(toTokenUnitsBN(new BigNumber(data.newDebt), ESD.decimals), 2) :\n      '+0.00';\n}\n\nfunction formatDeltaBonded(type, data) {\n  return type === 'INCREASE' ?\n    '+' + formatBN(toTokenUnitsBN(new BigNumber(data.newBonded), ESD.decimals), 2) :\n    '+0.00';\n}\n\nfunction renderEntry({ type, data }: Regulation): string[] {\n  return [\n    data.epoch.toString(),\n    formatPrice(type, data),\n    formatDeltaRedeemable(type, data),\n    formatDeltaDebt(type, data),\n    formatDeltaBonded(type, data),\n  ]\n}\n\nfunction RegulationHistory({\n  user,\n}: RegulationHistoryProps) {\n  const [regulations, setRegulations] = useState<Regulation[]>([]);\n  const [page, setPage] = useState(0)\n  const [initialized, setInitialized] = useState(false)\n\n  //Update User balances\n  useEffect(() => {\n    let isCancelled = false;\n\n    async function updateUserInfo() {\n      const [allRegulations] = await Promise.all([\n        getAllRegulations(ESDS.addr),\n      ]);\n\n      if (!isCancelled) {\n        setRegulations(allRegulations);\n        setInitialized(true);\n      }\n    }\n\n    updateUserInfo();\n    const id = setInterval(updateUserInfo, 15000);\n\n    // eslint-disable-next-line consistent-return\n    return () => {\n      isCancelled = true;\n      clearInterval(id);\n    };\n  }, [user]);\n\n  return (\n    <DataView\n      fields={['Epoch', 'Price', ' Redeemable', ' Debt', ' Bonded']}\n      status={ initialized ? 'default' : 'loading' }\n      entries={regulations}\n      entriesPerPage={10}\n      page={page}\n      onPageChange={setPage}\n      renderEntry={renderEntry}\n    />\n  );\n}\n\nexport default RegulationHistory;\n","import React, { useState, useEffect } from 'react';\nimport { Header } from '@aragon/ui';\n\nimport {\n  getCouponPremium,\n  getPoolTotalClaimable, getPoolTotalRewarded, getTokenBalance,\n  getTokenTotalSupply, getTotalBonded, getTotalCoupons, getTotalDebt, getTotalRedeemable, getTotalStaged,\n} from '../../utils/infura';\nimport {ESD, ESDS, UNI} from \"../../constants/tokens\";\nimport {toTokenUnitsBN} from \"../../utils/number\";\nimport BigNumber from \"bignumber.js\";\nimport RegulationHeader from \"./Header\";\nimport RegulationHistory from \"./RegulationHistory\";\nimport IconHeader from \"../common/IconHeader\";\nimport {getPoolAddress} from \"../../utils/pool\";\n\nconst ONE_COUPON = new BigNumber(10).pow(18);\n\nfunction Regulation({ user }: {user: string}) {\n\n  const [totalSupply, setTotalSupply] = useState(new BigNumber(0));\n  const [totalBonded, setTotalBonded] = useState(new BigNumber(0));\n  const [totalStaged, setTotalStaged] = useState(new BigNumber(0));\n  const [totalRedeemable, setTotalRedeemable] = useState(new BigNumber(0));\n  const [poolLiquidity, setPoolLiquidity] = useState(new BigNumber(0));\n  const [poolTotalRewarded, setPoolTotalRewarded] = useState(new BigNumber(0));\n  const [poolTotalClaimable, setPoolTotalClaimable] = useState(new BigNumber(0));\n  const [totalDebt, setTotalDebt] = useState(new BigNumber(0));\n  const [totalCoupons, setTotalCoupons] = useState(new BigNumber(0));\n  const [couponPremium, setCouponPremium] = useState(new BigNumber(0));\n\n  useEffect(() => {\n    let isCancelled = false;\n\n    async function updateUserInfo() {\n      const poolAddress = await getPoolAddress();\n\n      const [\n        totalSupplyStr,\n        totalBondedStr, totalStagedStr, totalRedeemableStr,\n        poolLiquidityStr, poolTotalRewardedStr, poolTotalClaimableStr,\n\n        totalDebtStr, totalCouponsStr\n      ] = await Promise.all([\n        getTokenTotalSupply(ESD.addr),\n\n        getTotalBonded(ESDS.addr),\n        getTotalStaged(ESDS.addr),\n        getTotalRedeemable(ESDS.addr),\n\n        getTokenBalance(ESD.addr, UNI.addr),\n        getPoolTotalRewarded(poolAddress),\n        getPoolTotalClaimable(poolAddress),\n\n        getTotalDebt(ESDS.addr),\n        getTotalCoupons(ESDS.addr),\n      ]);\n\n      if (!isCancelled) {\n        setTotalSupply(toTokenUnitsBN(totalSupplyStr, ESD.decimals));\n\n        setTotalBonded(toTokenUnitsBN(totalBondedStr, ESD.decimals));\n        setTotalStaged(toTokenUnitsBN(totalStagedStr, ESD.decimals));\n        setTotalRedeemable(toTokenUnitsBN(totalRedeemableStr, ESD.decimals));\n\n        setPoolLiquidity(toTokenUnitsBN(poolLiquidityStr, ESD.decimals));\n        setPoolTotalRewarded(toTokenUnitsBN(poolTotalRewardedStr, ESD.decimals));\n        setPoolTotalClaimable(toTokenUnitsBN(poolTotalClaimableStr, ESD.decimals));\n\n        setTotalDebt(toTokenUnitsBN(totalDebtStr, ESD.decimals));\n        setTotalCoupons(toTokenUnitsBN(totalCouponsStr, ESD.decimals));\n\n        if (new BigNumber(totalDebtStr).isGreaterThan(ONE_COUPON)) {\n          const couponPremiumStr = await getCouponPremium(ESDS.addr, ONE_COUPON)\n          setCouponPremium(toTokenUnitsBN(couponPremiumStr, ESD.decimals));\n        } else {\n          setCouponPremium(new BigNumber(0));\n        }\n      }\n    }\n    updateUserInfo();\n    const id = setInterval(updateUserInfo, 15000);\n\n    // eslint-disable-next-line consistent-return\n    return () => {\n      isCancelled = true;\n      clearInterval(id);\n    };\n  }, [user]);\n\n  return (\n    <>\n      <IconHeader icon={<i className=\"fas fa-chart-area\"/>} text=\"Supply Regulation\"/>\n\n      <RegulationHeader\n        totalSupply={totalSupply}\n\n        totalBonded={totalBonded}\n        totalStaged={totalStaged}\n        totalRedeemable={totalRedeemable}\n\n        poolLiquidity={poolLiquidity}\n        poolRewarded={poolTotalRewarded}\n        poolClaimable={poolTotalClaimable}\n\n        totalDebt={totalDebt}\n        totalCoupons={totalCoupons}\n        couponPremium={couponPremium}\n      />\n\n      <Header primary=\"Regulation History\" />\n\n      <RegulationHistory\n        user={user}\n      />\n    </>\n  );\n}\n\nexport default Regulation;\n","import React, { useState } from 'react';\nimport {\n  Box, Button, IconCirclePlus, IconCircleMinus, IconLock\n} from '@aragon/ui';\nimport BigNumber from 'bignumber.js';\nimport {\n  BalanceBlock, MaxButton,\n} from '../common/index';\nimport {approve, depositPool, withdrawPool} from '../../utils/web3';\nimport {isPos, toBaseUnitBN} from '../../utils/number';\nimport {UNI} from \"../../constants/tokens\";\nimport {MAX_UINT256} from \"../../constants/values\";\nimport BigNumberInput from \"../common/BigNumberInput\";\n\ntype WithdrawDepositProps = {\n  poolAddress: string\n  user: string\n  balance: BigNumber,\n  allowance: BigNumber,\n  stagedBalance: BigNumber,\n  status: number\n};\n\nfunction WithdrawDeposit({\n  poolAddress, user, balance, allowance, stagedBalance, status\n}: WithdrawDepositProps) {\n  const [depositAmount, setDepositAmount] = useState(new BigNumber(0));\n  const [withdrawAmount, setWithdrawAmount] = useState(new BigNumber(0));\n\n  return (\n    <Box heading=\"Stage\">\n      {allowance.comparedTo(MAX_UINT256) === 0 ?\n        <div style={{display: 'flex', flexWrap: 'wrap'}}>\n          {/* total Issued */}\n          <div style={{flexBasis: '32%'}}>\n            <BalanceBlock asset=\"Staged\" balance={stagedBalance} suffix={\"Cake-LP\"}/>\n          </div>\n          {/* Deposit Cake-LP into Pool */}\n          <div style={{flexBasis: '33%', paddingTop: '2%'}}>\n            <div style={{display: 'flex'}}>\n              <div style={{width: '60%', minWidth: '6em'}}>\n                <>\n                  <BigNumberInput\n                    adornment=\"Cake-LP\"\n                    value={depositAmount}\n                    setter={setDepositAmount}\n                  />\n                  <MaxButton\n                    onClick={() => {\n                      setDepositAmount(balance);\n                    }}\n                  />\n                </>\n              </div>\n              <div style={{width: '40%', minWidth: '7em'}}>\n                <Button\n                  wide\n                  icon={status === 0 ? <IconCirclePlus/> : <IconLock/>}\n                  label=\"Deposit\"\n                  onClick={() => {\n                    depositPool(\n                      poolAddress,\n                      toBaseUnitBN(depositAmount, UNI.decimals),\n                      (hash) => setDepositAmount(new BigNumber(0))\n                    );\n                  }}\n                  disabled={poolAddress === '' || status !== 0 || !isPos(depositAmount)}\n                />\n              </div>\n            </div>\n          </div>\n          <div style={{flexBasis: '2%'}}/>\n          {/* Withdraw SD from DAO */}\n          <div style={{flexBasis: '33%', paddingTop: '2%'}}>\n            <div style={{display: 'flex'}}>\n              <div style={{width: '60%', minWidth: '6em'}}>\n                <>\n                  <BigNumberInput\n                    adornment=\"Cake-LP\"\n                    value={withdrawAmount}\n                    setter={setWithdrawAmount}\n                  />\n                  <MaxButton\n                    onClick={() => {\n                      setWithdrawAmount(stagedBalance);\n                    }}\n                  />\n                </>\n              </div>\n              <div style={{width: '40%', minWidth: '7em'}}>\n                <Button\n                  wide\n                  icon={status === 0 ? <IconCircleMinus/> : <IconLock/>}\n                  label=\"Withdraw\"\n                  onClick={() => {\n                    withdrawPool(\n                      poolAddress,\n                      toBaseUnitBN(withdrawAmount, UNI.decimals),\n                      (hash) => setWithdrawAmount(new BigNumber(0))\n                    );\n                  }}\n                  disabled={poolAddress === '' || status !== 0 || !isPos(withdrawAmount)}\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n        :\n        <div style={{display: 'flex', flexWrap: 'wrap'}}>\n          {/* total Issued */}\n          <div style={{flexBasis: '32%'}}>\n            <BalanceBlock asset=\"Staged\" balance={stagedBalance} suffix={\"Cake-LP\"}/>\n          </div>\n          <div style={{flexBasis: '35%'}}/>\n          {/* Approve Pool to spend Cake-LP */}\n          <div style={{flexBasis: '33%', paddingTop: '2%'}}>\n            <Button\n              wide\n              icon={<IconCirclePlus />}\n              label=\"Approve\"\n              onClick={() => {\n                approve(UNI.addr, poolAddress);\n              }}\n              disabled={poolAddress === '' || user === ''}\n            />\n          </div>\n        </div>\n      }\n    </Box>\n  );\n}\n\nexport default WithdrawDeposit;\n","import React, { useState } from 'react';\nimport {\n  Box, Button, IconCirclePlus, IconCircleMinus, IconCaution\n} from '@aragon/ui';\nimport BigNumber from 'bignumber.js';\nimport {\n  BalanceBlock, MaxButton,\n} from '../common/index';\nimport {bondPool, unbondPool} from '../../utils/web3';\nimport {isPos, toBaseUnitBN} from '../../utils/number';\nimport {UNI} from \"../../constants/tokens\";\nimport BigNumberInput from \"../common/BigNumberInput\";\nimport TextBlock from \"../common/TextBlock\";\n\ntype BondUnbondProps = {\n  poolAddress: string,\n  staged: BigNumber,\n  bonded: BigNumber,\n  status: number,\n  lockup: number,\n};\n\nfunction BondUnbond({\n  poolAddress, staged, bonded, status, lockup\n}: BondUnbondProps) {\n  const [bondAmount, setBondAmount] = useState(new BigNumber(0));\n  const [unbondAmount, setUnbondAmount] = useState(new BigNumber(0));\n\n  return (\n    <Box heading=\"Bond\">\n      <div style={{display: 'flex', flexWrap: 'wrap'}}>\n        {/* Total bonded */}\n        <div style={{flexBasis: '16%'}}>\n          <BalanceBlock asset=\"Bonded\" balance={bonded} suffix={\"Cake-LP\"} />\n        </div>\n        {/* Exit lockup */}\n        <div style={{flexBasis: '16%'}}>\n          <TextBlock label=\"Exit Lockup\" text={lockup === 0 ? \"\" : lockup === 1 ? \"1 epoch\" : `${lockup} epochs`}/>\n        </div>\n        {/* Bond Cake-LP within Pool */}\n        <div style={{flexBasis: '33%', paddingTop: '2%'}}>\n          <div style={{display: 'flex'}}>\n            <div style={{width: '60%', minWidth: '6em'}}>\n              <>\n                <BigNumberInput\n                  adornment=\"Cake-LP\"\n                  value={bondAmount}\n                  setter={setBondAmount}\n                />\n                <MaxButton\n                  onClick={() => {\n                    setBondAmount(staged);\n                  }}\n                />\n              </>\n            </div>\n            <div style={{width: '40%', minWidth: '7em'}}>\n              <Button\n                wide\n                icon={status === 0 ? <IconCirclePlus/> : <IconCaution/>}\n                label=\"Bond\"\n                onClick={() => {\n                  bondPool(\n                    poolAddress,\n                    toBaseUnitBN(bondAmount, UNI.decimals),\n                    (hash) => setBondAmount(new BigNumber(0))\n                  );\n                }}\n                disabled={poolAddress === '' || !isPos(bondAmount)}\n              />\n            </div>\n          </div>\n        </div>\n        <div style={{flexBasis: '2%'}}/>\n        {/* Unbond Cake-LP within Pool */}\n        <div style={{flexBasis: '33%', paddingTop: '2%'}}>\n          <div style={{display: 'flex'}}>\n            <div style={{width: '60%', minWidth: '6em'}}>\n              <>\n                <BigNumberInput\n                  adornment=\"Cake-LP\"\n                  value={unbondAmount}\n                  setter={setUnbondAmount}\n                />\n                <MaxButton\n                  onClick={() => {\n                    setUnbondAmount(bonded);\n                  }}\n                />\n              </>\n            </div>\n            <div style={{width: '40%', minWidth: '7em'}}>\n              <Button\n                wide\n                icon={status === 0 ? <IconCircleMinus/> : <IconCaution/>}\n                label=\"Unbond\"\n                onClick={() => {\n                  unbondPool(\n                    poolAddress,\n                    toBaseUnitBN(unbondAmount, UNI.decimals),\n                    (hash) => setUnbondAmount(new BigNumber(0))\n                  );\n                }}\n                disabled={poolAddress === '' || !isPos(unbondAmount)}\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n      <div style={{width: '100%', paddingTop: '2%', textAlign: 'center'}}>\n        <span style={{ opacity: 0.5 }}> Bonding events will restart the lockup timer </span>\n      </div>\n    </Box>\n  );\n}\n\nexport default BondUnbond;\n","import React, {Fragment} from 'react';\nimport BigNumber from 'bignumber.js';\n\nimport { BalanceBlock } from '../common/index';\nimport TextBlock from \"../common/TextBlock\";\nimport {ownership} from \"../../utils/number\";\n\ntype PoolPageHeaderProps = {\n  accountUNIBalance: BigNumber,\n  accountBondedBalance: BigNumber,\n  accountRewardedESDBalance: BigNumber,\n  accountClaimableESDBalance: BigNumber,\n  poolTotalBonded: BigNumber,\n  accountPoolStatus: number,\n  unlocked: number,\n  fluidEpoch: any,\n  user: string\n};\n\nconst STATUS_MAP = [\"Unlocked\", \"Locked\"];\n\nfunction status(accountStatus) {\n  return STATUS_MAP[accountStatus]\n}\n\nconst PoolPageHeader = ({\n  accountUNIBalance, accountBondedBalance, accountRewardedESDBalance, accountClaimableESDBalance, poolTotalBonded, accountPoolStatus, unlocked, fluidEpoch, user\n}: PoolPageHeaderProps) => (\n  <div style={{ padding: '2%', display: 'flex', flexWrap: 'wrap', alignItems: 'center' }}>\n    <div style={{ flexBasis: '20%' }}>\n      <BalanceBlock asset=\"Balance\" balance={accountUNIBalance}  suffix={\" Cake-LP\"}/>\n    </div>\n    <div style={{ flexBasis: '20%' }}>\n      <BalanceBlock asset=\"Rewarded\" balance={accountRewardedESDBalance} suffix={\" SD\"} />\n    </div>\n    <div style={{ flexBasis: '20%' }}>\n      <BalanceBlock asset=\"Claimable\" balance={accountClaimableESDBalance} suffix={\" SD\"} />\n    </div>\n    <div style={{ flexBasis: '20%' }}>\n      <BalanceBlock asset=\"Pool Ownership\" balance={ownership(accountBondedBalance, poolTotalBonded)}  suffix={\"%\"}/>\n    </div>\n    <div style={{ flexBasis: '20%' }}>\n      <TextBlock label=\"Pool Status\" text={status(accountPoolStatus)}/>\n        {\n            user !== '' && (\n                <Fragment>\n                    <p>{\n                        isNaN(fluidEpoch)\n                            ? 'You did not bonded or unbonded before.'\n                            : `You last bonded or unbonded at epoch ${fluidEpoch}.`\n                    } </p>\n                    {\n                        accountPoolStatus !== 0 && (\n                            <p>Unlocked at epoch {fluidEpoch + 12}.</p>\n                        )\n                    }\n                </Fragment>\n            )\n        }\n    </div>\n  </div>\n);\n\n\nexport default PoolPageHeader;\n","import React, { useState } from 'react';\nimport {\n  Box, Button, IconArrowDown\n} from '@aragon/ui';\nimport BigNumber from 'bignumber.js';\nimport {\n  BalanceBlock, MaxButton,\n} from '../common/index';\nimport {claimPool} from '../../utils/web3';\nimport {isPos, toBaseUnitBN} from '../../utils/number';\nimport {ESD} from \"../../constants/tokens\";\nimport BigNumberInput from \"../common/BigNumberInput\";\n\ntype ClaimProps = {\n  poolAddress: string\n  claimable: BigNumber,\n  status: number\n};\n\nfunction Claim({\n  poolAddress, claimable, status\n}: ClaimProps) {\n  const [claimAmount, setClaimAmount] = useState(new BigNumber(0));\n\n  return (\n    <Box heading=\"Claim\">\n      <div style={{display: 'flex', flexWrap: 'wrap'}}>\n        {/* total Issued */}\n        <div style={{flexBasis: '32%'}}>\n          <BalanceBlock asset=\"Claimable\" balance={claimable} suffix={\"SD\"} />\n        </div>\n        {/* Deposit Cake-LP into Pool */}\n        <div style={{flexBasis: '35%'}}/>\n        <div style={{flexBasis: '33%', paddingTop: '2%'}}>\n          <div style={{display: 'flex'}}>\n            <div style={{width: '60%', minWidth: '6em'}}>\n              <>\n                <BigNumberInput\n                  adornment=\"SD\"\n                  value={claimAmount}\n                  setter={setClaimAmount}\n                />\n                <MaxButton\n                  onClick={() => {\n                    setClaimAmount(claimable);\n                  }}\n                />\n              </>\n            </div>\n            <div style={{width: '40%', minWidth: '6em'}}>\n              <Button\n                wide\n                icon={<IconArrowDown/>}\n                label=\"Claim\"\n                onClick={() => {\n                  claimPool(\n                    poolAddress,\n                    toBaseUnitBN(claimAmount, ESD.decimals),\n                    (hash) => setClaimAmount(new BigNumber(0))\n                  );\n                }}\n                disabled={poolAddress === '' || status !== 0 || !isPos(claimAmount)}\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n      <div style={{width: '100%', paddingTop: '2%', textAlign: 'center'}}>\n        <span style={{ opacity: 0.5 }}> Unbond to make rewards claimable after your status is Unlocked </span>\n      </div>\n    </Box>\n  );\n}\n\nexport default Claim;\n","import React from 'react';\nimport BigNumber from \"bignumber.js\";\nimport {Box} from '@aragon/ui';\nimport styled from 'styled-components'\n\ntype InvestProps = {\n  totalSupply: BigNumber,\n  ESDLPBonded: BigNumber,\n};\n\nconst Invest = ({totalSupply, ESDLPBonded}: InvestProps) => {\n  const ESDLpBonded = ESDLPBonded.toNumber() * 2;\n  const lpHourly = ((((totalSupply.toNumber() * 0.75) / 100) * 40) / 100 + ESDLpBonded) / ESDLpBonded;\n\n  const lpDaily = (((((totalSupply.toNumber() * 0.75) / 100) * 40) / 100) * 24 + ESDLpBonded) / ESDLpBonded;\n  const lpWeekly = (((((totalSupply.toNumber() * 0.75) / 100) * 40) / 100) * 8064 + ESDLpBonded) / ESDLpBonded;\n\n  return (\n          <div style={{fontSize: 16, padding: 3}}>\n            <span style={{fontSize: 16, padding: 3}}>APR</span>\n            <span style={{fontSize: 16, padding: 3}}>LP hourly:\n              <span style={{\n                fontSize: 24,\n                padding: 3,\n                fontWeight: 400,\n                lineHeight: 1.5,\n                fontFamily: 'aragon-ui-monospace, monospace'\n              }}>\n                {((lpHourly - 1) * 100).toFixed(2)}%\n              </span>\n            </span>\n            <span style={{fontSize: 16, padding: 3}}>LP daily:\n              <span style={{\n                fontSize: 24,\n                padding: 3,\n                fontWeight: 400,\n                lineHeight: 1.5,\n                fontFamily: 'aragon-ui-monospace, monospace'\n              }}>\n                {((lpDaily - 1) * 100).toFixed(2)}%\n              </span>\n            </span>\n            <span style={{fontSize: 16, padding: 3}}>LP yearly:\n              <span style={{\n                fontSize: 24,\n                padding: 3,\n                fontWeight: 400,\n                lineHeight: 1.5,\n                fontFamily: 'aragon-ui-monospace, monospace'\n              }}>\n                {((lpWeekly - 1) * 100).toFixed(0)}%\n              </span>\n            </span>\n          </div>\n  );\n};\n\nexport default Invest;","import React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\n\nimport { Box } from '@aragon/ui';\n\nimport BigNumber from 'bignumber.js';\nimport {\n  getPoolBalanceOfBonded, getPoolBalanceOfClaimable,\n  getPoolBalanceOfRewarded,\n  getPoolBalanceOfStaged,\n  getPoolStatusOf, getPoolTotalBonded,\n  getTokenAllowance,\n  getTokenBalance,\n  getPoolFluidUntil,\n  getTokenTotalSupply,\n  loadFluidStatusPool\n} from '../../utils/infura';\nimport {ESD, UNI, USDC} from \"../../constants/tokens\";\nimport {POOL_EXIT_LOCKUP_EPOCHS} from \"../../constants/values\";\nimport { toTokenUnitsBN } from '../../utils/number';\nimport { Header } from '@aragon/ui';\n\nimport WithdrawDeposit from \"./WithdrawDeposit\";\nimport BondUnbond from \"./BondUnbond\";\nimport PoolPageHeader from \"./Header\";\nimport Claim from \"./Claim\";\nimport Provide from \"./Provide\";\nimport IconHeader from \"../common/IconHeader\";\nimport Migrate from \"./Migrate\";\nimport {getPoolAddress} from \"../../utils/pool\";\nimport {DollarPool4} from \"../../constants/contracts\";\nimport Invest from \"./Invest\";\n\n\n\nfunction Pool({ user }: {user: string}) {\n  const { override } = useParams();\n  if (override) {\n    user = override;\n  }\n\n  const [poolAddress, setPoolAddress] = useState(\"\");\n  const [poolTotalBonded, setPoolTotalBonded] = useState(new BigNumber(0));\n  const [pairBalanceESD, setPairBalanceESD] = useState(new BigNumber(0));\n  const [pairBalanceUSDC, setPairBalanceUSDC] = useState(new BigNumber(0));\n  const [userUNIBalance, setUserUNIBalance] = useState(new BigNumber(0));\n  const [userUNIAllowance, setUserUNIAllowance] = useState(new BigNumber(0));\n  const [userUSDCBalance, setUserUSDCBalance] = useState(new BigNumber(0));\n  const [userUSDCAllowance, setUserUSDCAllowance] = useState(new BigNumber(0));\n  const [userStagedBalance, setUserStagedBalance] = useState(new BigNumber(0));\n  const [userBondedBalance, setUserBondedBalance] = useState(new BigNumber(0));\n  const [userRewardedBalance, setUserRewardedBalance] = useState(new BigNumber(0));\n  const [userClaimableBalance, setUserClaimableBalance] = useState(new BigNumber(0));\n  const [userStatus, setUserStatus] = useState(0);\n  const [userStatusUnlocked, setUserStatusUnlocked] = useState(0);\n  const [lockup, setLockup] = useState(0);\n  const [totalSupply, setTotalSupply] = useState(new BigNumber(0));\n  const [fluidStatus, setFluidStatus] = useState({\n    lastUnbond: undefined, lastBond: undefined, fluidEpoch: undefined\n  });\n\n  //Update User balances\n  useEffect(() => {\n\n    let isCancelledApr = false;\n    async function updateAPR() {\n      const [\n        totalSupplyStr,\n        totalBondedStr,\n      ] = await Promise.all([\n        getTokenTotalSupply(ESD.addr),\n        getTokenBalance(ESD.addr, UNI.addr),\n      ]);\n\n      if (!isCancelledApr) {\n        setTotalSupply(toTokenUnitsBN(totalSupplyStr, ESD.decimals));\n        setPairBalanceESD(toTokenUnitsBN(totalBondedStr, ESD.decimals));\n      }\n    }\n\n    updateAPR();\n\n    if (user === '') {\n      setPoolAddress(\"\");\n      setPoolTotalBonded(new BigNumber(0));\n      setPairBalanceESD(new BigNumber(0));\n      setPairBalanceUSDC(new BigNumber(0));\n      setUserUNIBalance(new BigNumber(0));\n      setUserUNIAllowance(new BigNumber(0));\n      setUserUSDCBalance(new BigNumber(0));\n      setUserUSDCAllowance(new BigNumber(0));\n      setUserStagedBalance(new BigNumber(0));\n      setUserBondedBalance(new BigNumber(0));\n      setUserRewardedBalance(new BigNumber(0));\n      setUserClaimableBalance(new BigNumber(0));\n      setUserStatus(0);\n      setUserStatusUnlocked(0);\n      return;\n    }\n    let isCancelled = false;\n\n    async function updateUserInfo() {\n      const poolAddressStr = await getPoolAddress();\n\n      const [\n        poolTotalBondedStr, pairBalanceESDStr, pairBalanceUSDCStr, balance, usdcBalance,\n        allowance, usdcAllowance, stagedBalance, bondedBalance,\n        rewardedBalance, claimableBalance, status, fluidUntilStr, fluidStatusStr\n      ] = await Promise.all([\n        getPoolTotalBonded(poolAddressStr),\n        getTokenBalance(ESD.addr, UNI.addr),\n        getTokenBalance(USDC.addr, UNI.addr),\n        getTokenBalance(UNI.addr, user),\n        getTokenBalance(USDC.addr, user),\n\n        getTokenAllowance(UNI.addr, user, poolAddressStr),\n        getTokenAllowance(USDC.addr, user, poolAddressStr),\n        getPoolBalanceOfStaged(poolAddressStr, user),\n        getPoolBalanceOfBonded(poolAddressStr, user),\n\n        getPoolBalanceOfRewarded(poolAddressStr, user),\n        getPoolBalanceOfClaimable(poolAddressStr, user),\n        getPoolStatusOf(poolAddressStr, user),\n        getPoolFluidUntil(poolAddressStr, user),\n        loadFluidStatusPool(poolAddressStr, user),\n      ]);\n      console.log('status', status, fluidUntilStr);\n      const poolTotalBonded = toTokenUnitsBN(poolTotalBondedStr, ESD.decimals);\n      const pairESDBalance = toTokenUnitsBN(pairBalanceESDStr, ESD.decimals);\n      const pairUSDCBalance = toTokenUnitsBN(pairBalanceUSDCStr, USDC.decimals);\n      const userUNIBalance = toTokenUnitsBN(balance, UNI.decimals);\n      const userUSDCBalance = toTokenUnitsBN(usdcBalance, USDC.decimals);\n      const userStagedBalance = toTokenUnitsBN(stagedBalance, UNI.decimals);\n      const userBondedBalance = toTokenUnitsBN(bondedBalance, UNI.decimals);\n      const userRewardedBalance = toTokenUnitsBN(rewardedBalance, ESD.decimals);\n      const userClaimableBalance = toTokenUnitsBN(claimableBalance, ESD.decimals);\n      const userStatus = parseInt(status, 10);\n      const fluidUntil = parseInt(fluidUntilStr, 10);\n//console.log('fluidUntil', fluidUntil);\n      if (!isCancelled) {\n        setPoolAddress(poolAddressStr);\n        setPoolTotalBonded(new BigNumber(poolTotalBonded));\n        setPairBalanceESD(new BigNumber(pairESDBalance));\n        setPairBalanceUSDC(new BigNumber(pairUSDCBalance));\n        setUserUNIBalance(new BigNumber(userUNIBalance));\n        setUserUNIAllowance(new BigNumber(allowance));\n        setUserUSDCAllowance(new BigNumber(usdcAllowance));\n        setUserUSDCBalance(new BigNumber(userUSDCBalance));\n        setUserStagedBalance(new BigNumber(userStagedBalance));\n        setUserBondedBalance(new BigNumber(userBondedBalance));\n        setUserRewardedBalance(new BigNumber(userRewardedBalance));\n        setUserClaimableBalance(new BigNumber(userClaimableBalance));\n        setUserStatus(userStatus);\n        setUserStatusUnlocked(fluidUntil);\n        setLockup(POOL_EXIT_LOCKUP_EPOCHS);\n        setFluidStatus(fluidStatusStr);\n      }\n    }\n    updateUserInfo();\n    const id = setInterval(updateUserInfo, 15000);\n    const apr = setInterval(updateAPR, 15000);\n\n    // eslint-disable-next-line consistent-return\n    return () => {\n      isCancelled = true;\n      clearInterval(id);\n      clearInterval(apr)\n    };\n  }, [user]);\n  // Check for error in .call()\n  return (\n    <>\n\n      <div style={{ padding: '2%', display: 'flex', flexWrap: 'wrap', alignItems: 'center' }}>\n        <div style={{ flexBasis: '20%' }}>\n          <IconHeader icon={<i className=\"fas fa-parachute-box\"/>} text=\"LP Reward Pool\"/>\n        </div>\n        <div style={{ flexBasis: '80%', textAlign: 'right' }}>\n          <Invest\n              totalSupply={totalSupply}\n              ESDLPBonded={pairBalanceESD}\n          />\n        </div>\n      </div>\n\n      <Box heading=\"How to earn SD from Providing Liquidity:\">\n        <div style={{width: '100%', textAlign: 'left'}}>\n            <span style={{ color: '#008000' }}>\n1: Buy same amount of SD and BUSD at PCS, see links in the Trade menu.<br/>\n2: Provide liquidity to SD-BUSD pool at PCS, see links in the Trade menu. <br/>\n3: In the STAGE section of Liquidity menu, click MAX, then, Deposit. (If it display Approve, you must approve first.)<br/>\n4: In the BOND section, click MAX, then, Deposit.<br/>\n5: You are now bonded to the LP and earning SD.<br/>\n<hr/>\nAdvantage: 12 hours only lockup.<br/>\n<hr/>\nTo exit: In BOND section, click Unbond and wait 12 hours, then in STAGE section, click MAX, then, Withdraw.<br/>\n\n            </span>\n        </div>\n      </Box>\n      <PoolPageHeader\n        accountUNIBalance={userUNIBalance}\n        accountBondedBalance={userBondedBalance}\n        accountRewardedESDBalance={userRewardedBalance}\n        accountClaimableESDBalance={userClaimableBalance}\n        poolTotalBonded={poolTotalBonded}\n        accountPoolStatus={userStatus}\n        unlocked={userStatusUnlocked}\n        fluidEpoch={fluidStatus?.fluidEpoch}\n        user={user}\n      />\n\n      <WithdrawDeposit\n        poolAddress={poolAddress}\n        user={user}\n        balance={userUNIBalance}\n        allowance={userUNIAllowance}\n        stagedBalance={userStagedBalance}\n        status={userStatus}\n      />\n\n      <BondUnbond\n        poolAddress={poolAddress}\n        staged={userStagedBalance}\n        bonded={userBondedBalance}\n        status={userStatus}\n        lockup={lockup}\n      />\n\n      <Claim\n        poolAddress={poolAddress}\n        claimable={userClaimableBalance}\n        status={userStatus}\n      />\n\n\n\n      {/*\n      <Provide\n        poolAddress={poolAddress}\n        user={user}\n        rewarded={userRewardedBalance}\n        status={userStatus}\n        pairBalanceESD={pairBalanceESD}\n        pairBalanceUSDC={pairBalanceUSDC}\n        userUSDCBalance={userUSDCBalance}\n        userUSDCAllowance={userUSDCAllowance}\n      />\n      */}\n    </>\n  );\n}\n\nexport default Pool;\n","import React from 'react';\nimport {\n  Box, LinkBase, Tag,\n} from '@aragon/ui';\n\nfunction HomePageNoWeb3() {\n\n  return (\n    <>\n      <div style={{ padding: '1%', display: 'flex', alignItems: 'center' }}>\n        <MainButton\n          title=\"No web3 wallet detected\"\n          description=\"Click to get Metamask.\"\n          icon={<i className=\"fas fa-times-circle\"/>}\n          onClick={() => {\n            // @ts-ignore\n            window.location = 'https://www.metamask.io/';\n          }}\n        />\n      </div>\n    </>\n  );\n}\n\ntype MainButtonPropx = {\n  title: string,\n  description: string,\n  icon: any,\n  onClick: Function,\n  tag?:string\n}\n\nfunction MainButton({\n  title, description, icon, onClick, tag,\n}:MainButtonPropx) {\n  return (\n    <LinkBase onClick={onClick} style={{ width: '100%' }}>\n      <Box>\n        <div style={{ padding: 10, fontSize: 18 }}>\n          {title}\n          {tag ? <Tag>{tag}</Tag> : <></>}\n        </div>\n        <span style={{ fontSize: 48 }}>\n          {icon}\n        </span>\n        {/*<img alt=\"icon\" style={{ padding: 10, height: 64 }} src={iconUrl} />*/}\n        <div style={{ paddingTop: 5, opacity: 0.5 }}>\n          {' '}\n          {description}\n          {' '}\n        </div>\n\n      </Box>\n    </LinkBase>\n  );\n}\n\nexport default HomePageNoWeb3;\n","import React, {useEffect, useState} from 'react';\n\nimport { HashRouter as Router, Switch, Route } from 'react-router-dom';\nimport { Main, Layout } from '@aragon/ui';\nimport { UseWalletProvider } from 'use-wallet';\nimport { updateModalMode } from './utils/web3';\nimport { storePreference, getPreference } from './utils/storage';\nimport NavBar from './components/NavBar';\nimport HomePage from './components/HomePage';\nimport Trade from './components/Trade/index';\nimport Footer from './components/Footer';\nimport Wallet from \"./components/Wallet\";\nimport EpochDetail from \"./components/EpochDetail\";\nimport CouponMarket from \"./components/CouponMarket\";\nimport Governance from \"./components/Governance\";\nimport Candidate from \"./components/Candidate\";\nimport Regulation from \"./components/Regulation\";\nimport Pool from \"./components/Pool\";\nimport HomePageNoWeb3 from \"./components/HomePageNoWeb3\";\n\nfunction App() {\n  const storedTheme = getPreference('theme', 'light');\n\n  const [hasWeb3, setHasWeb3] = useState(false);\n  const [user, setUser] = useState(''); // the current connected user\n  const [theme, setTheme] = useState(storedTheme);\n\n  const updateTheme = (newTheme: string) => {\n    setTheme(newTheme);\n    updateModalMode(newTheme);\n    storePreference('theme', newTheme);\n  };\n\n  useEffect(() => {\n    let isCancelled = false;\n\n    async function updateUserInfo() {\n      if (!isCancelled) {\n        // @ts-ignore\n        setHasWeb3(typeof window.ethereum !== 'undefined');\n      }\n    }\n\n    updateUserInfo();\n    const id = setInterval(updateUserInfo, 15000);\n\n    // eslint-disable-next-line consistent-return\n    return () => {\n      isCancelled = true;\n      clearInterval(id);\n    };\n  }, [user]);\n\n  return (\n    <Router>\n      <UseWalletProvider\n        chainId={56}\n        connectors={{\n          walletconnect: { rpcUrl: 'https://mainnet.eth.aragon.network/' },\n          walletlink: {\n            url: 'https://mainnet.eth.aragon.network/',\n            appName:'Coinbase Wallet',\n            appLogoUrl: ''\n          }\n        }}\n      >\n        <Main assetsUrl={`${process.env.PUBLIC_URL}/aragon-ui/`} theme={theme} layout={false}>\n          <NavBar hasWeb3={hasWeb3} user={user} setUser={setUser} />\n          <Layout>\n          {\n            hasWeb3 ?\n              <Switch>\n                <Route path=\"/dao/:override\"><Wallet user={user}/></Route>\n                <Route path=\"/dao/\"><Wallet user={user}/></Route>\n                <Route path=\"/epoch/\"><EpochDetail user={user}/></Route>\n                <Route path=\"/coupons/:override\"><CouponMarket user={user}/></Route>\n                <Route path=\"/coupons/\"><CouponMarket user={user}/></Route>\n                <Route path=\"/governance/candidate/:candidate\"><Candidate user={user}/></Route>\n                <Route path=\"/governance/\"><Governance user={user}/></Route>\n                <Route path=\"/trade/\"><Trade user={user}/></Route>\n                <Route path=\"/regulation/\"><Regulation user={user}/></Route>\n                <Route path=\"/pool/:override\"><Pool user={user}/></Route>\n                <Route path=\"/pool/\"><Pool user={user}/></Route>\n                <Route path=\"/\"><HomePage user={user}/></Route>\n              </Switch>\n              :\n              <Switch>\n                <Route path=\"/\"><HomePageNoWeb3/></Route>\n              </Switch>\n          }\n          </Layout>\n          <div style={{height: '128px', width: '100%'}}/>\n          <Footer hasWeb3={hasWeb3} theme={theme} updateTheme={updateTheme}/>\n        </Main>\n      </UseWalletProvider>\n    </Router>\n  );\n}\n\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost'\n    // [::1] is the IPv6 localhost address.\n    || window.location.hostname === '[::1]'\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    || window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/,\n    ),\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service '\n              + 'worker. To learn more, visit https://bit.ly/CRA-PWA',\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all '\n                  + 'tabs for this page are closed. See https://bit.ly/CRA-PWA.',\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404\n        || (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.',\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'react-widgets/dist/css/react-widgets.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nimport Moment from 'moment'\nimport momentLocalizer from 'react-widgets-moment';\n\nMoment.locale('en')\nmomentLocalizer()\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}